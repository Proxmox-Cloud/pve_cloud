{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"General","text":"<p>The aim of this project is to provide a self hosted cloud provider (AWS, Google Cloud, Azure) like foundation, build on proxmox using other open source / free to use software.</p> <p>This collection is a toolbox to build your own onpremise clouds following infrastructure as code principles. The main tools you will be working with are ansible and terraform. The collection only contains things every self hosted cloud needs, the rest is up to you to decide and to build.</p> <p>It merges ansible inventories directly with vms/lxcs on proxmox, aswell as providing an integrated kubernetes implementation.</p>"},{"location":"#quickstart-samples","title":"Quickstart Samples","text":"<p>Checkout the samples directory to get an idea about how the collection works in action.</p>"},{"location":"#project-dependency-structure","title":"Project dependency structure","text":""},{"location":"#compatibility","title":"Compatibility","text":"<p>Verified working versions:</p> Collection Version K8S Version Debian LXC Version PVE Version Ceph Version 3.3.X 1.32.5 12.12-1 8.4.12 19.2.2"},{"location":"bootstrap/","title":"Setup/Bootstrap","text":"<p>You need a development machine with the following tools/packages installed:</p> <ul> <li>python3 + virtual env </li> <li>docker</li> <li>terraform</li> <li>kubectl / helm</li> <li>yq (mikefarah)</li> <li>(nfs-common) if you want to use caching</li> </ul> <p>Aswell as a proxmox cluster you have root access via ssh to the hosts.</p>"},{"location":"bootstrap/#bootstrap","title":"Bootstrap","text":"<p>Create a repository for your cloud instance for example company-xyz-cloud and setup your environment:</p> <ul> <li>create venv: <code>python3 -m venv ~/.pve-cloud-venv</code> and activate <code>source ~/.pve-cloud-venv/bin/activate</code></li> <li>install <code>pip install ansible==9.13.0 distlib==0.3.9</code></li> <li>create <code>requirements.yaml</code> in your repository like this:</li> </ul> <pre><code>---\ncollections:\n  - name: git@github.com:Proxmox-Cloud/pve_cloud.git\n    type: git\n    version: $LATEST_TAG_VERSION\n</code></pre> <ul> <li>run <code>ansible-galaxy install -r requirements.yaml</code>, then install the python requirements from <code>pip install -r ~/.ansible/collections/ansible_collections/pve/cloud/meta/ee-requirements.txt</code>.</li> </ul>"},{"location":"bootstrap/#cloud-domain-selection","title":"Cloud domain selection","text":"<ul> <li>connect to your proxmox clusters <code>pvcli connect-cluster --pve-host $PROXMOX_HOST</code> (run once per cluster, same domain)</li> </ul> <p>The cloud domain should be a unique domain that can be used for the hostnames and services of the cloud. It should not overlap with a domain you host generic services under, we need unambiguousness for our ddns hostname records.</p> <p>Domains for services like for example <code>gitlab.example.com</code> can be added later in our cluster definition file. The cloud domain should be something like <code>your-cloud.example.com</code>.</p>"},{"location":"bootstrap/#repository-setup","title":"Repository setup","text":"<p>One pve cloud can have multiple proxmox clusters, but one proxmox cluster may only be member of a single pve cloud.</p> <p>You should create a seperate repository for each of your pve cloud instances. </p> <p>This repository should contain:</p> <ul> <li>pve cloud inventory file - cloud schema =&gt; for the <code>pve.cloud.setup_pve_clusters</code> playbook</li> <li>lxc inventory files for the basic services - lxc inv schema</li> <li>inventory for two kea lxcs =&gt; for use with <code>pve.cloud.setup_kea</code> playbook - dhcp inv schema</li> <li>inventory for two bind lxcs =&gt; <code>pve.cloud.setup_bind</code> playbook - bind inv schema</li> <li>three lxcs for patroni postgres =&gt; <code>pve.cloud.setup_postgres</code> playbook - no special schema</li> <li>two haproxy lxcs =&gt; <code>pve.cloud.setup_haproxy</code> playbook - haproxy inv schema</li> </ul> <p>From here you can start deploying your first kubernetes cluster, which will serve as the basis for most deployments/services.</p>"},{"location":"contributing/","title":"Contributing","text":"<p>Some rough guidelines for developing this collection. Check out our tdd e2e section, for setting up your development environment.</p>"},{"location":"contributing/#dependency-architecture","title":"Dependency architecture","text":"<p>No lower level should ever depend on a higher level. That means we should never need kubernetes to bootstrap a virtual machine, nor any deployment inside kuberentes.</p> <p>Also the system level services should not depend on kubernetes, only the other way around.</p> <p>For that we need to find custom solutions, like what i did with extending pves replicated filesystem with my own secrets, using ansible to generate and slurp them each time.</p> <p>Everything that can be generalized should be put into this collection or reusable terraform modules. Following common infrastructure as code practices of creating one repository per environment/cluster, these repositories than act as boilerplate and minimal customization / variable holder layers, importing the core modules and collection at a certain tagged version.</p> <p>This makes the process of updating of different environments easier.</p>"},{"location":"contributing/#authentication","title":"Authentication","text":"<p>SSH is our core layer for authentication. Most of the collection is using it in one way or another, even the terraform modules are using it to fetch secrets and authenticate with k8s.</p>"},{"location":"contributing/#merging","title":"Merging","text":"<p>After you have tested your changes please create merge requests in the different repositories, providing cross links in all of them. If you made a change in py-pve-cloud and pve_cloud, create MRs in both and provide links in both to all related MRs. </p> <p>(This is subject to change and might be replaced with a mail-based patch workflow).</p>"},{"location":"kubernetes/","title":"Kubespray K8S","text":"<p>The collection contains and integrates with the official kubespray collection.</p> <p>It is recommended to create a seperate repository per kubernetes cluster, or aleast put the cluster inventory file into a seperate folder.</p> <p>Checkout the <code>kubespray-cluster</code> dir in the samples directory for a quick idea on how to setup!</p>"},{"location":"kubernetes/#deploying-a-cluster","title":"Deploying a cluster","text":"<p>Again create custom inventory yaml file following this cluster schema.</p> <p>Afterwards run the <code>pve.cloud.sync_kubespray</code> playbook, this will fully create VMs, setup kubespray, initialize TLS Certificates and deploy core kubernetes helm charts (Ceph CSI, Ingress).</p> <p>To get kubeconf after creation of the cluster for cli/ide access (expiring) use:</p> <p><code>pvcli print-kubeconfig --inventory YOUR-KUBESPRAY-INV.yaml</code></p>"},{"location":"kubernetes/#tls-acme-certificates","title":"TLS ACME Certificates","text":"<p>This collection doesn't use kubernetes certmanager for TLS certificates, but instead comes with an external centralised solution. </p> <p>Initially certificates are generated via ansible roles, integrated into the collection. The update process afterwards is handled via AWX cron jobs. Use the awx helm chart via terraform to deploy your own instance.</p>"},{"location":"kubernetes/#dns-provider-secrets","title":"DNS Provider Secrets","text":"<p>At the moment the collection supports ionos and aws route53 for dynamically solving dns01 challenges and obtaining certificates.</p> <p>You need to create secret files inside the clouds secret folder on your proxmox cluster:</p> <ul> <li>for aws route53 create <code>/etc/pve/cloud/secrets/aws-route53-global.json</code>, this should contain read / write access to your route53:</li> </ul> <pre><code>{\n  \"AWS_ACCESS_KEY_ID\": \"ACCESS_ID_HERE\",\n  \"AWS_SECRET_ACCESS_KEY\": \"SECRET_KEY_HERE\",\n  \"AWS_REGION\": \"REGION\"\n}\n</code></pre> <ul> <li>for method <code>ionos</code> create <code>/etc/pve/cloud/secrets/ionos-api-key.json</code>:</li> </ul> <pre><code>{\n  \"IONOS_PRAEFIX\": \"PRAEFIX_HERE\",\n  \"IONOS_VERSCHLUESSELUNG\": \"SECRET_KEY_HERE\"\n}\n</code></pre> <p>Afterwards you need to sync those secrets to all hosts in the cloud, you can do that by rerunning the <code>setup_pve_clusters</code> playbook - <code>ansible-playbook -i YOUR-CLOUD-INV.yaml pve.cloud.setup_pve_clusters --tags rsync</code>. This needs to be done only once! There is no support for multiple dns providers / multiple accounts yet.</p>"},{"location":"kubernetes/#upgrading-a-cluster","title":"Upgrading a cluster","text":"<p>Upgrading the cluster is as simple as updating the version tag reference of this collection.</p> <p>You can skip to the latest patch version, but shouldn't skip minor versions as they are tied to kubespray updates. After updating the cloud collection version in your requirements.yaml,</p> <p>You have to run <code>ansible-galaxy install -r requirements.yaml</code> and <code>pip install -r ~/.ansible/collections/ansible_collections/pve/cloud/meta/ee-requirements.txt</code> again.</p> <p>Then run the upgrade playbook <code>ansible-playbook -i YOUR-KUBESPRAY-INV.yaml pve.cloud.upgrade_kubespray</code>.</p>"},{"location":"kubernetes/#custom-kubespray-vars","title":"Custom kubespray vars","text":"<p>To define your own kubespray vars just create <code>group_vars/all</code> and <code>group_vars/k8s_cluster</code> directories alongside your inventory file.</p> <p>Here are some interesting kubespray settings you might want to set (k8s_cluster vars):</p> <ul> <li>increase amount of schedulable pods per node (if you have big nodes)</li> </ul> <pre><code>kube_network_node_prefix: 22\nkubelet_max_pods: 1024\n</code></pre> <ul> <li>set strict eviction limits, this is a good safe guard for node availability incase you have memory hungry deployments without any requests / limits defined </li> </ul> <pre><code># this will enable reservations with the default values, see kubespray sample inventory\nkube_reserved: true\nkube_reserved_cgroups_for_service_slice: kube.slice\nkube_reserved_cgroups: \"/{{ kube_reserved_cgroups_for_service_slice }}\"\n\nsystem_reserved: true\nsystem_reserved_cgroups_for_service_slice: system.slice\nsystem_reserved_cgroups: \"/{{ system_reserved_cgroups_for_service_slice }}\"\nsystem_memory_reserved: 1024Mi\n\neviction_hard:\n  memory.available: 1000Mi\n</code></pre> <p>=&gt; this, in addition to the <code>adjust_networkd_oom_score</code> role, will allow k8s nodes to run even if we got memory hungry, ram hogging deployments. eviction hard and reservations alone are not enough, in oom scenarios it will cause the networkd service to stop working.</p>"},{"location":"kubernetes/#exposing-k8s-controlplane-api","title":"Exposing K8S Controlplane API","text":"<p>If you want to expose your kubenetes clusters controlplane to integrate with external running services, you can set additional SANs that will be generated and inserted by kubespray into the kubeapi certificates, by listing them in your kubespray inventory file under <code>extra_control_plane_sans</code> as simple strings. See the cluster schema.</p> <p>Adding SANs there will also configure the pve cloud haproxy to route traffic to the respecive clusters controlplane hitting its external floating ip.</p> <p>DNS Records for these SANs have to be created manually (for internal and external DNS servers), for that use terraforms dns, route53 and ionos provider.</p>"},{"location":"kubernetes/#terraform","title":"Terraform","text":"<p>After you deployed your first kubernetes cluster, further deployments and configuration is handled almost exclusively via terraform.</p> <p>Checkout the pve-cloud-tf repository, for core pve cloud related deployments.</p>"},{"location":"misc/","title":"Miscellaneous","text":""},{"location":"misc/#patroni-recovery","title":"Patroni recovery","text":"<p>incase one patroni node fails, abrupt restart etc, delete /opt/ha-postgres data dir and restart the patroni service.</p>"},{"location":"misc/#removing-pve-cluster-host","title":"Removing pve cluster host","text":"<ul> <li>delete all ceph mons, mgrs and osds of host</li> <li>pvecm delnode</li> </ul>"},{"location":"misc/#kea-dhcp-restart","title":"Kea DHCP restart","text":"<p>ls -ld /run/kea/kea-dhcp4.kea-dhcp4.pid</p> <p>lock file might block _kea user, either change service to root user or try delete.</p>"},{"location":"tdd/","title":"Test Driven Development","text":"<p>For development you will need a dedicated proxmox cluster (a small one will suffice), and another dedicated vlan. The testing suite deploys and configures a proxmox cloud with locally build artifacts.</p>"},{"location":"tdd/#e2e-architecture","title":"E2E Architecture","text":"<p>Pytest is our core testing framework, in combination with ansible_runner and the terraform cli we build and test the entire collection end to end.</p> <p>Our pytest fixtures contain the core setup of the cloud. And from them branch out one or more tests at every level. The fixtures are called only once (pytest session scope).</p> <p></p> <p>Target run pytests against for example test_bind to restrict fixture execution.</p>"},{"location":"tdd/#development","title":"Development","text":"<ul> <li>add this to your <code>~/.ssh/config</code>, ssh validation can get annoying when often recreating containers and vms.</li> </ul> <pre><code>Host *\n    StrictHostKeyChecking no\n    UserKnownHostsFile /dev/null\n</code></pre> <ul> <li>configure your docker <code>/etc/docker/daemon.json</code> to accept the local registry for insecure http pushes, followed by <code>sudo service docker restart</code></li> </ul> <pre><code>{\n  \"insecure-registries\":  [\"192.168.1.0/24\"]\n}\n</code></pre> <ul> <li>install <code>direnv</code> and activate it in your local profile (add <code>eval \"$(direnv hook bash)\"</code> to .bashrc)</li> <li>create a <code>pve-cloud</code> folder and checkout all the repositories you want to make changes to, if you checkout the ansible collections they have to be under <code>ansible_collections/pve/</code></li> <li>create a dedicated venv for pve cloud development <code>python3 -m venv ~/.pve-cloud-dev-venv</code> and activate <code>source ~/.pve-cloud-dev-venv/bin/activate</code></li> <li>create a test environment config yaml (you can find the schema definition in the src folder of the pytest-pve-cloud repository)</li> <li>create a <code>.envrc</code> file with env variables stored for development</li> </ul> <pre><code>export TDDOG_LOCAL_IFACE= # iface name of you local net ip `ip -4 addr show`. The deployed infrastructure needs your developer machines ip for pulling.\nexport PVE_CLOUD_TEST_CONF=$(pwd)/test-env-conf.yaml\nexport ANSIBLE_COLLECTIONS_PATH=$(pwd)\n</code></pre> <p>the created local dir might look like this:</p> <pre><code>ansible_collections/pve/\n  cloud\npy-pve-cloud\npve-cloud-controller\n.envrc\ntest-env-conf.yaml\n</code></pre> <ol> <li>run <code>pip install pytest-pve-cloud</code>, you might need first install <code>sudo apt install build-essential python3-dev</code> (or your distros equivalent)</li> <li>also install the core ansible dependencies from the bootstrap section, followed by <code>pip install -r meta/ee-requirements.txt</code></li> <li>run <code>tdd-reqs</code> cli command inside the pve_cloud collection and <code>ansible-galaxy install -r tdd-requirements.yml</code>, this will install all the ansible collection dependencies</li> <li>launch local registries for watchdog rebuilds and fast deployment</li> </ol> <pre><code>docker run -d -p 5000:5000 --name pxc-local-registry registry:3 # local docker registry\ndocker run -d -p 8088:8080 --name pxc-local-pypi pypiserver/pypiserver:latest run -P . -a . # local pypi registry without auth\ndocker run -d --name pxc-local-redis -p 6379:6379 redis:latest # redis broker for triggering dependent builds\n</code></pre> <ol> <li>run <code>tddog --recursive</code> from your top level created <code>pve-cloud</code> folder. This will monitor src folders and rebuild artifacts and their dependants</li> <li>python packages are partly installed locally and pushed and used in artifacts. tddog takes care of making code available for the infrastructure, locally you can run <code>pip install -e .</code> to have your changes reflected in real time</li> <li>connect once to your cluster <code>pvcli connect-cluster --pve-host $PVE_HOST_IP</code> and then you can run the e2e tests</li> </ol> <pre><code>pytest -s tests/e2e/ --skip-cleanup \n\n# you can also target specific steps\npytest -s tests/e2e/test_cloud.py::test_bind --skip-cleanup\n</code></pre>"},{"location":"tdd/#kubeconfig-access","title":"Kubeconfig access","text":"<p>If you passed <code>--skip-cleanup</code> to pytest, the kubespray tests will write a <code>.test-kubeconfig.yaml</code> file you can use for lens access to the testing cluster.</p>"},{"location":"schemas/awx_cloud_inv_schema/","title":"AWX Cron Inventory","text":"<p>Title: AWX Cron Inventory</p> Type <code>object</code> Required No Additional properties Not allowed Property Pattern Type Deprecated Definition Title/Description + target_pve No string No - - + plugin No enum (of string) No - Id of ansible inventory plugin. + pve_clusters No object No - Copy of the inventory file located in user home directory ~/.pve-cloud-dyn-inv.yaml, containing all the pve clusters the user has access to via ssh."},{"location":"schemas/awx_cloud_inv_schema/#1-property-awx-cron-inventory-target_pve","title":"1. Property <code>AWX Cron Inventory &gt; target_pve</code>","text":"Type <code>string</code> Required Yes"},{"location":"schemas/awx_cloud_inv_schema/#2-property-awx-cron-inventory-plugin","title":"2. Property <code>AWX Cron Inventory &gt; plugin</code>","text":"Type <code>enum (of string)</code> Required Yes <p>Description: Id of ansible inventory plugin.</p> <p>Must be one of: * \"pve.cloud.awx_cloud_inv\"</p>"},{"location":"schemas/awx_cloud_inv_schema/#3-property-awx-cron-inventory-pve_clusters","title":"3. Property <code>AWX Cron Inventory &gt; pve_clusters</code>","text":"Type <code>object</code> Required Yes Additional properties Not allowed <p>Description: Copy of the inventory file located in user home directory ~/.pve-cloud-dyn-inv.yaml, containing all the pve clusters the user has access to via ssh.</p> Property Pattern Type Deprecated Definition Title/Description - ^.*$ Yes object No - PVE cluster fqdn"},{"location":"schemas/awx_cloud_inv_schema/#31-pattern-property-awx-cron-inventory-pve_clusters-pve-cluster-fqdn","title":"3.1. Pattern Property <code>AWX Cron Inventory &gt; pve_clusters &gt; PVE cluster fqdn</code>","text":"<p>All properties whose name matches the regular expression <code>^.*$</code> (Test) must respect the following conditions</p> <p>Title: PVE cluster fqdn</p> Type <code>object</code> Required No Additional properties Not allowed <p>Description: The identifying cluster domain. Synonymous with target_pve. Will be appended to stack_name(s).</p> Property Pattern Type Deprecated Definition Title/Description - ^.*$ Yes object No - PVE Node Hostname"},{"location":"schemas/awx_cloud_inv_schema/#311-pattern-property-awx-cron-inventory-pve_clusters-pve-cluster-fqdn-pve-node-hostname","title":"3.1.1. Pattern Property <code>AWX Cron Inventory &gt; pve_clusters &gt; PVE cluster fqdn &gt; PVE Node Hostname</code>","text":"<p>All properties whose name matches the regular expression <code>^.*$</code> (Test) must respect the following conditions</p> <p>Title: PVE Node Hostname</p> Type <code>object</code> Required No Additional properties Not allowed <p>Description: Hostname of a pve host (short).</p> Property Pattern Type Deprecated Definition Title/Description + ansible_user No string No - - + ansible_host No string No - -"},{"location":"schemas/awx_cloud_inv_schema/#3111-property-awx-cron-inventory-pve_clusters-pve-cluster-fqdn-pve-node-hostname-ansible_user","title":"3.1.1.1. Property <code>AWX Cron Inventory &gt; pve_clusters &gt; PVE cluster fqdn &gt; PVE Node Hostname &gt; ansible_user</code>","text":"Type <code>string</code> Required Yes"},{"location":"schemas/awx_cloud_inv_schema/#3112-property-awx-cron-inventory-pve_clusters-pve-cluster-fqdn-pve-node-hostname-ansible_host","title":"3.1.1.2. Property <code>AWX Cron Inventory &gt; pve_clusters &gt; PVE cluster fqdn &gt; PVE Node Hostname &gt; ansible_host</code>","text":"Type <code>string</code> Required Yes <p>Generated using json-schema-for-humans on 2025-11-28 at 18:48:44 +0000</p>"},{"location":"schemas/kubespray_inv_schema/","title":"K8S Kubespray Inv.","text":"<p>Title: K8S Kubespray Inv.</p> Type <code>object</code> Required No Additional properties Not allowed <p>Description: Inventory for deploying k8s clusters via kubespray on PVE.</p> Property Pattern Type Deprecated Definition Title/Description + target_pve No string No - The pve cluster this stack should reside in, defined in ~/.pve-cloud-dyn-inv.yaml via `pvcli connect-cluster` + stack_name No string No - Your stack name, needs to be unique within the cloud domain. Will create its own sub zone. - extra_control_plane_sans No array of string No - Extra sans that kubespray will put in kubeapi generated certificates. Original kubespray variable is named supplementary_addresses_in_ssl_keys, but is set via kubespray custom inventory. Read kubernetes page in pve cloud docs for more details. - external_domains No array of object No - Domains that will be exposed to the public proxies floating ip via haproxy routing rules. + cluster_cert_entries No array of object No - Content for the clusters certificate. Internal routing is handled by ingress dns! + tcp_proxies No array of object No - TCP forwards to this cluster on the pve cluster proxy. + static_includes No object No - - - include_stacks No array of object No - Include other stacks into the ansible inventory, from any PVE cluster you like. + qemus No array of object No - Nodes for the cluster in form of qemu vms. + ceph_csi_sc_pools No array of object No - Ceph pools that will be made available to the cluster CSI driver. + root_ssh_pub_key No string No - trusted root key for the cloud init image. - pve_ha_group No string No - PVE HA group this vm should be assigned to (optional). - qemu_hashed_pw No string No - Pw for default user defaults to hashed 'password' for debian cloud init image. - qemu_base_parameters No object No - Base parameters passed to the proxmox qm cli tool for creating vm - qemu_image_url No string No - http(s) download link for cloud init image. - qemu_keyboard_layout No string No - Keyboard layout for cloudinit. - qemu_network_config No string No - Optional qemu network config as a yaml string that is merged into the cloudinit network config of all qemus. - acme_staging No boolean No - If set to true will use acme staging directory for issueing certs. - plugin No enum (of string) No - Id of ansible inventory plugin. - pve_cloud_pytest No object No - Variables object used only in e2e tests. - qemu_global_vars No object No - Variables that will be applied to all lxc hosts."},{"location":"schemas/kubespray_inv_schema/#1-property-k8s-kubespray-inv-target_pve","title":"1. Property <code>K8S Kubespray Inv. &gt; target_pve</code>","text":"Type <code>string</code> Required Yes <p>Description: The pve cluster this stack should reside in, defined in ~/.pve-cloud-dyn-inv.yaml via <code>pvcli connect-cluster</code></p>"},{"location":"schemas/kubespray_inv_schema/#2-property-k8s-kubespray-inv-stack_name","title":"2. Property <code>K8S Kubespray Inv. &gt; stack_name</code>","text":"Type <code>string</code> Required Yes <p>Description: Your stack name, needs to be unique within the cloud domain. Will create its own sub zone.</p>"},{"location":"schemas/kubespray_inv_schema/#3-property-k8s-kubespray-inv-extra_control_plane_sans","title":"3. Property <code>K8S Kubespray Inv. &gt; extra_control_plane_sans</code>","text":"Type <code>array of string</code> Required No <p>Description: Extra sans that kubespray will put in kubeapi generated certificates. Original kubespray variable is named supplementary_addresses_in_ssl_keys,  but is set via kubespray custom inventory. Read kubernetes page in pve cloud docs for more details.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description extra_control_plane_sans items -"},{"location":"schemas/kubespray_inv_schema/#31-k8s-kubespray-inv-extra_control_plane_sans-extra_control_plane_sans-items","title":"3.1. K8S Kubespray Inv. &gt; extra_control_plane_sans &gt; extra_control_plane_sans items","text":"Type <code>string</code> Required No"},{"location":"schemas/kubespray_inv_schema/#4-property-k8s-kubespray-inv-external_domains","title":"4. Property <code>K8S Kubespray Inv. &gt; external_domains</code>","text":"Type <code>array of object</code> Required No <p>Description: Domains that will be exposed to the public proxies floating ip via haproxy routing rules.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description external_domains items -"},{"location":"schemas/kubespray_inv_schema/#41-k8s-kubespray-inv-external_domains-external_domains-items","title":"4.1. K8S Kubespray Inv. &gt; external_domains &gt; external_domains items","text":"Type <code>object</code> Required No Additional properties Not allowed Property Pattern Type Deprecated Definition Title/Description + zone No string No - DNS parent zone, should also be the zone that external records are made under in AWS for example. - expose_tld No boolean No - Expose the top level domain itself. + names No array of string No - -"},{"location":"schemas/kubespray_inv_schema/#411-property-k8s-kubespray-inv-external_domains-external_domains-items-zone","title":"4.1.1. Property <code>K8S Kubespray Inv. &gt; external_domains &gt; external_domains items &gt; zone</code>","text":"Type <code>string</code> Required Yes <p>Description: DNS parent zone, should also be the zone that external records are made under in AWS for example.</p>"},{"location":"schemas/kubespray_inv_schema/#412-property-k8s-kubespray-inv-external_domains-external_domains-items-expose_tld","title":"4.1.2. Property <code>K8S Kubespray Inv. &gt; external_domains &gt; external_domains items &gt; expose_tld</code>","text":"Type <code>boolean</code> Required No <p>Description: Expose the top level domain itself.</p>"},{"location":"schemas/kubespray_inv_schema/#413-property-k8s-kubespray-inv-external_domains-external_domains-items-names","title":"4.1.3. Property <code>K8S Kubespray Inv. &gt; external_domains &gt; external_domains items &gt; names</code>","text":"Type <code>array of string</code> Required Yes Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description names items Hostname part (host + zone)"},{"location":"schemas/kubespray_inv_schema/#4131-k8s-kubespray-inv-external_domains-external_domains-items-names-names-items","title":"4.1.3.1. K8S Kubespray Inv. &gt; external_domains &gt; external_domains items &gt; names &gt; names items","text":"Type <code>string</code> Required No <p>Description: Hostname part (host + zone)</p>"},{"location":"schemas/kubespray_inv_schema/#5-property-k8s-kubespray-inv-cluster_cert_entries","title":"5. Property <code>K8S Kubespray Inv. &gt; cluster_cert_entries</code>","text":"Type <code>array of object</code> Required Yes <p>Description: Content for the clusters certificate. Internal routing is handled by ingress dns!</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description cluster_cert_entries items -"},{"location":"schemas/kubespray_inv_schema/#51-k8s-kubespray-inv-cluster_cert_entries-cluster_cert_entries-items","title":"5.1. K8S Kubespray Inv. &gt; cluster_cert_entries &gt; cluster_cert_entries items","text":"Type <code>object</code> Required No Additional properties Not allowed Property Pattern Type Deprecated Definition Title/Description + zone No string No - DNS parent zone, should coincide with tld for dns01 challenge. + names No array of string No - - - authoritative_zone No boolean No - Create authoritative zone inside of pve cloud bind dns. - apex_zone_san No boolean No - Creates additional SAN for the zone, if you have *.example.com you will also get example.com in your certificate. Defaults to false."},{"location":"schemas/kubespray_inv_schema/#511-property-k8s-kubespray-inv-cluster_cert_entries-cluster_cert_entries-items-zone","title":"5.1.1. Property <code>K8S Kubespray Inv. &gt; cluster_cert_entries &gt; cluster_cert_entries items &gt; zone</code>","text":"Type <code>string</code> Required Yes <p>Description: DNS parent zone, should coincide with tld for dns01 challenge.</p>"},{"location":"schemas/kubespray_inv_schema/#512-property-k8s-kubespray-inv-cluster_cert_entries-cluster_cert_entries-items-names","title":"5.1.2. Property <code>K8S Kubespray Inv. &gt; cluster_cert_entries &gt; cluster_cert_entries items &gt; names</code>","text":"Type <code>array of string</code> Required Yes Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description names items Hostname part (host + zone)"},{"location":"schemas/kubespray_inv_schema/#5121-k8s-kubespray-inv-cluster_cert_entries-cluster_cert_entries-items-names-names-items","title":"5.1.2.1. K8S Kubespray Inv. &gt; cluster_cert_entries &gt; cluster_cert_entries items &gt; names &gt; names items","text":"Type <code>string</code> Required No <p>Description: Hostname part (host + zone)</p>"},{"location":"schemas/kubespray_inv_schema/#513-property-k8s-kubespray-inv-cluster_cert_entries-cluster_cert_entries-items-authoritative_zone","title":"5.1.3. Property <code>K8S Kubespray Inv. &gt; cluster_cert_entries &gt; cluster_cert_entries items &gt; authoritative_zone</code>","text":"Type <code>boolean</code> Required No <p>Description: Create authoritative zone inside of pve cloud bind dns.</p>"},{"location":"schemas/kubespray_inv_schema/#514-property-k8s-kubespray-inv-cluster_cert_entries-cluster_cert_entries-items-apex_zone_san","title":"5.1.4. Property <code>K8S Kubespray Inv. &gt; cluster_cert_entries &gt; cluster_cert_entries items &gt; apex_zone_san</code>","text":"Type <code>boolean</code> Required No <p>Description: Creates additional SAN for the zone, if you have *.example.com you will also get example.com in your certificate. Defaults to false.</p>"},{"location":"schemas/kubespray_inv_schema/#6-property-k8s-kubespray-inv-tcp_proxies","title":"6. Property <code>K8S Kubespray Inv. &gt; tcp_proxies</code>","text":"Type <code>array of object</code> Required Yes <p>Description: TCP forwards to this cluster on the pve cluster proxy.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description tcp_proxies items -"},{"location":"schemas/kubespray_inv_schema/#61-k8s-kubespray-inv-tcp_proxies-tcp_proxies-items","title":"6.1. K8S Kubespray Inv. &gt; tcp_proxies &gt; tcp_proxies items","text":"Type <code>object</code> Required No Additional properties Not allowed Property Pattern Type Deprecated Definition Title/Description + proxy_name No string No - Name of the proxy port. Should be unique for the stack. + haproxy_port No number No - Port on the haproxy frontend that listens. + node_port No number No - Port on the nodes, usually via K8S NodePort - proxy_snippet No string No - additional snippet that will be inserted into the haproxy listen block. Can be used for custom logic. - external No boolean No - Will bind to the external floating ip aswell."},{"location":"schemas/kubespray_inv_schema/#611-property-k8s-kubespray-inv-tcp_proxies-tcp_proxies-items-proxy_name","title":"6.1.1. Property <code>K8S Kubespray Inv. &gt; tcp_proxies &gt; tcp_proxies items &gt; proxy_name</code>","text":"Type <code>string</code> Required Yes <p>Description: Name of the proxy port. Should be unique for the stack.</p>"},{"location":"schemas/kubespray_inv_schema/#612-property-k8s-kubespray-inv-tcp_proxies-tcp_proxies-items-haproxy_port","title":"6.1.2. Property <code>K8S Kubespray Inv. &gt; tcp_proxies &gt; tcp_proxies items &gt; haproxy_port</code>","text":"Type <code>number</code> Required Yes <p>Description: Port on the haproxy frontend that listens.</p>"},{"location":"schemas/kubespray_inv_schema/#613-property-k8s-kubespray-inv-tcp_proxies-tcp_proxies-items-node_port","title":"6.1.3. Property <code>K8S Kubespray Inv. &gt; tcp_proxies &gt; tcp_proxies items &gt; node_port</code>","text":"Type <code>number</code> Required Yes <p>Description: Port on the nodes, usually via K8S NodePort</p>"},{"location":"schemas/kubespray_inv_schema/#614-property-k8s-kubespray-inv-tcp_proxies-tcp_proxies-items-proxy_snippet","title":"6.1.4. Property <code>K8S Kubespray Inv. &gt; tcp_proxies &gt; tcp_proxies items &gt; proxy_snippet</code>","text":"Type <code>string</code> Required No <p>Description: additional snippet that will be inserted into the haproxy listen block. Can be used for custom logic.</p>"},{"location":"schemas/kubespray_inv_schema/#615-property-k8s-kubespray-inv-tcp_proxies-tcp_proxies-items-external","title":"6.1.5. Property <code>K8S Kubespray Inv. &gt; tcp_proxies &gt; tcp_proxies items &gt; external</code>","text":"Type <code>boolean</code> Required No <p>Description: Will bind to the external floating ip aswell.</p>"},{"location":"schemas/kubespray_inv_schema/#7-property-k8s-kubespray-inv-static_includes","title":"7. Property <code>K8S Kubespray Inv. &gt; static_includes</code>","text":"Type <code>object</code> Required Yes Additional properties Not allowed Property Pattern Type Deprecated Definition Title/Description + dhcp_stack No string No - Stack fqdn of dhcp stack where reservations for node ips should be made. + proxy_stack No string No - Stack fqdn of haproxy stack where ingress and proxy rules should be configured. + postgres_stack No string No - Stack fqdn of postgres stack where state and general configuration of our pve cloud is stored. + bind_stack No string No - Stack fqdn of bind servers, where create_bind_zone: true ingress_domain zones will be created. - cache_stack No string No - Cache stack to mount nfs for kubespray cache and apt cache. Assumes the cache lxc to have the hostname \"main\"."},{"location":"schemas/kubespray_inv_schema/#71-property-k8s-kubespray-inv-static_includes-dhcp_stack","title":"7.1. Property <code>K8S Kubespray Inv. &gt; static_includes &gt; dhcp_stack</code>","text":"Type <code>string</code> Required Yes <p>Description: Stack fqdn of dhcp stack where reservations for node ips should be made.</p>"},{"location":"schemas/kubespray_inv_schema/#72-property-k8s-kubespray-inv-static_includes-proxy_stack","title":"7.2. Property <code>K8S Kubespray Inv. &gt; static_includes &gt; proxy_stack</code>","text":"Type <code>string</code> Required Yes <p>Description: Stack fqdn of haproxy stack where ingress and proxy rules should be configured.</p>"},{"location":"schemas/kubespray_inv_schema/#73-property-k8s-kubespray-inv-static_includes-postgres_stack","title":"7.3. Property <code>K8S Kubespray Inv. &gt; static_includes &gt; postgres_stack</code>","text":"Type <code>string</code> Required Yes <p>Description: Stack fqdn of postgres stack where state and general configuration of our pve cloud is stored.</p>"},{"location":"schemas/kubespray_inv_schema/#74-property-k8s-kubespray-inv-static_includes-bind_stack","title":"7.4. Property <code>K8S Kubespray Inv. &gt; static_includes &gt; bind_stack</code>","text":"Type <code>string</code> Required Yes <p>Description: Stack fqdn of bind servers, where create_bind_zone: true ingress_domain zones will be created.</p>"},{"location":"schemas/kubespray_inv_schema/#75-property-k8s-kubespray-inv-static_includes-cache_stack","title":"7.5. Property <code>K8S Kubespray Inv. &gt; static_includes &gt; cache_stack</code>","text":"Type <code>string</code> Required No <p>Description: Cache stack to mount nfs for kubespray cache and apt cache. Assumes the cache lxc to have the hostname \"main\".</p>"},{"location":"schemas/kubespray_inv_schema/#8-property-k8s-kubespray-inv-include_stacks","title":"8. Property <code>K8S Kubespray Inv. &gt; include_stacks</code>","text":"Type <code>array of object</code> Required No <p>Description: Include other stacks into the ansible inventory, from any PVE cluster you like.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description include_stacks items -"},{"location":"schemas/kubespray_inv_schema/#81-k8s-kubespray-inv-include_stacks-include_stacks-items","title":"8.1. K8S Kubespray Inv. &gt; include_stacks &gt; include_stacks items","text":"Type <code>object</code> Required No Additional properties Not allowed Property Pattern Type Deprecated Definition Title/Description + stack_fqdn No string No - Target stack fqdn to include (stack name + pve_cloud_domain). Will automatically include it from the right pve cluster. + host_group No string No - This is the name of the hosts group of our ansible inventory the included vms will be under. - qemu_ansible_user No string No - User ansible will use to connect, defaults to admin."},{"location":"schemas/kubespray_inv_schema/#811-property-k8s-kubespray-inv-include_stacks-include_stacks-items-stack_fqdn","title":"8.1.1. Property <code>K8S Kubespray Inv. &gt; include_stacks &gt; include_stacks items &gt; stack_fqdn</code>","text":"Type <code>string</code> Required Yes <p>Description: Target stack fqdn to include (stack name + pve_cloud_domain). Will automatically include it from the right pve cluster.</p>"},{"location":"schemas/kubespray_inv_schema/#812-property-k8s-kubespray-inv-include_stacks-include_stacks-items-host_group","title":"8.1.2. Property <code>K8S Kubespray Inv. &gt; include_stacks &gt; include_stacks items &gt; host_group</code>","text":"Type <code>string</code> Required Yes <p>Description: This is the name of the hosts group of our ansible inventory the included vms will be under.</p>"},{"location":"schemas/kubespray_inv_schema/#813-property-k8s-kubespray-inv-include_stacks-include_stacks-items-qemu_ansible_user","title":"8.1.3. Property <code>K8S Kubespray Inv. &gt; include_stacks &gt; include_stacks items &gt; qemu_ansible_user</code>","text":"Type <code>string</code> Required No <p>Description: User ansible will use to connect, defaults to admin.</p>"},{"location":"schemas/kubespray_inv_schema/#9-property-k8s-kubespray-inv-qemus","title":"9. Property <code>K8S Kubespray Inv. &gt; qemus</code>","text":"Type <code>array of object</code> Required Yes <p>Description: Nodes for the cluster in form of qemu vms.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description qemus items -"},{"location":"schemas/kubespray_inv_schema/#91-k8s-kubespray-inv-qemus-qemus-items","title":"9.1. K8S Kubespray Inv. &gt; qemus &gt; qemus items","text":"Type <code>object</code> Required No Additional properties Not allowed Property Pattern Type Deprecated Definition Title/Description - hostname No string No - Optional unique hostname for this node, otherwise pet name random name will be generated. - vars No object No - Custom variables for this node specifically. + k8s_roles No array No - String array of k8s roles (master/worker) - target_host No string No - Pve host to tie this vm to. + parameters No object No - In accordance with pve qm cli tool, creation args. - network_config No string No - Cinit network config yaml string. Will be the last cfg piece that gets merged into the final cloudinit network config. + disk No object No - -"},{"location":"schemas/kubespray_inv_schema/#911-property-k8s-kubespray-inv-qemus-qemus-items-hostname","title":"9.1.1. Property <code>K8S Kubespray Inv. &gt; qemus &gt; qemus items &gt; hostname</code>","text":"Type <code>string</code> Required No <p>Description: Optional unique hostname for this node, otherwise pet name random name will be generated.</p>"},{"location":"schemas/kubespray_inv_schema/#912-property-k8s-kubespray-inv-qemus-qemus-items-vars","title":"9.1.2. Property <code>K8S Kubespray Inv. &gt; qemus &gt; qemus items &gt; vars</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Custom variables for this node specifically.</p>"},{"location":"schemas/kubespray_inv_schema/#913-property-k8s-kubespray-inv-qemus-qemus-items-k8s_roles","title":"9.1.3. Property <code>K8S Kubespray Inv. &gt; qemus &gt; qemus items &gt; k8s_roles</code>","text":"Type <code>array</code> Required Yes <p>Description: String array of k8s roles (master/worker)</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation N/A"},{"location":"schemas/kubespray_inv_schema/#914-property-k8s-kubespray-inv-qemus-qemus-items-target_host","title":"9.1.4. Property <code>K8S Kubespray Inv. &gt; qemus &gt; qemus items &gt; target_host</code>","text":"Type <code>string</code> Required No <p>Description: Pve host to tie this vm to.</p>"},{"location":"schemas/kubespray_inv_schema/#915-property-k8s-kubespray-inv-qemus-qemus-items-parameters","title":"9.1.5. Property <code>K8S Kubespray Inv. &gt; qemus &gt; qemus items &gt; parameters</code>","text":"Type <code>object</code> Required Yes Additional properties Any type allowed <p>Description: In accordance with pve qm cli tool, creation args.</p>"},{"location":"schemas/kubespray_inv_schema/#916-property-k8s-kubespray-inv-qemus-qemus-items-network_config","title":"9.1.6. Property <code>K8S Kubespray Inv. &gt; qemus &gt; qemus items &gt; network_config</code>","text":"Type <code>string</code> Required No <p>Description: Cinit network config yaml string. Will be the last cfg piece that gets merged into the final cloudinit network config.</p>"},{"location":"schemas/kubespray_inv_schema/#917-property-k8s-kubespray-inv-qemus-qemus-items-disk","title":"9.1.7. Property <code>K8S Kubespray Inv. &gt; qemus &gt; qemus items &gt; disk</code>","text":"Type <code>object</code> Required Yes Additional properties Not allowed Property Pattern Type Deprecated Definition Title/Description + size No string No - Size of the vms disk. - options No object No - Mount options + pool No string No - Ceph pool name the vms disk will be created in."},{"location":"schemas/kubespray_inv_schema/#9171-property-k8s-kubespray-inv-qemus-qemus-items-disk-size","title":"9.1.7.1. Property <code>K8S Kubespray Inv. &gt; qemus &gt; qemus items &gt; disk &gt; size</code>","text":"Type <code>string</code> Required Yes <p>Description: Size of the vms disk.</p>"},{"location":"schemas/kubespray_inv_schema/#9172-property-k8s-kubespray-inv-qemus-qemus-items-disk-options","title":"9.1.7.2. Property <code>K8S Kubespray Inv. &gt; qemus &gt; qemus items &gt; disk &gt; options</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Mount options</p>"},{"location":"schemas/kubespray_inv_schema/#9173-property-k8s-kubespray-inv-qemus-qemus-items-disk-pool","title":"9.1.7.3. Property <code>K8S Kubespray Inv. &gt; qemus &gt; qemus items &gt; disk &gt; pool</code>","text":"Type <code>string</code> Required Yes <p>Description: Ceph pool name the vms disk will be created in.</p>"},{"location":"schemas/kubespray_inv_schema/#10-property-k8s-kubespray-inv-ceph_csi_sc_pools","title":"10. Property <code>K8S Kubespray Inv. &gt; ceph_csi_sc_pools</code>","text":"Type <code>array of object</code> Required Yes <p>Description: Ceph pools that will be made available to the cluster CSI driver.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description ceph_csi_sc_pools items -"},{"location":"schemas/kubespray_inv_schema/#101-k8s-kubespray-inv-ceph_csi_sc_pools-ceph_csi_sc_pools-items","title":"10.1. K8S Kubespray Inv. &gt; ceph_csi_sc_pools &gt; ceph_csi_sc_pools items","text":"Type <code>object</code> Required No Additional properties Not allowed Property Pattern Type Deprecated Definition Title/Description + name No string No - Name of the pool in the ceph of our PVE cluster. + default No boolean No - Whether or not the pool is the default storage class. + mount_options No array No - String array of mount options that will be set in the storage class and applied to pvs."},{"location":"schemas/kubespray_inv_schema/#1011-property-k8s-kubespray-inv-ceph_csi_sc_pools-ceph_csi_sc_pools-items-name","title":"10.1.1. Property <code>K8S Kubespray Inv. &gt; ceph_csi_sc_pools &gt; ceph_csi_sc_pools items &gt; name</code>","text":"Type <code>string</code> Required Yes <p>Description: Name of the pool in the ceph of our PVE cluster.</p>"},{"location":"schemas/kubespray_inv_schema/#1012-property-k8s-kubespray-inv-ceph_csi_sc_pools-ceph_csi_sc_pools-items-default","title":"10.1.2. Property <code>K8S Kubespray Inv. &gt; ceph_csi_sc_pools &gt; ceph_csi_sc_pools items &gt; default</code>","text":"Type <code>boolean</code> Required Yes <p>Description: Whether or not the pool is the default storage class.</p>"},{"location":"schemas/kubespray_inv_schema/#1013-property-k8s-kubespray-inv-ceph_csi_sc_pools-ceph_csi_sc_pools-items-mount_options","title":"10.1.3. Property <code>K8S Kubespray Inv. &gt; ceph_csi_sc_pools &gt; ceph_csi_sc_pools items &gt; mount_options</code>","text":"Type <code>array</code> Required Yes <p>Description: String array of mount options that will be set in the storage class and applied to pvs.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation N/A"},{"location":"schemas/kubespray_inv_schema/#11-property-k8s-kubespray-inv-root_ssh_pub_key","title":"11. Property <code>K8S Kubespray Inv. &gt; root_ssh_pub_key</code>","text":"Type <code>string</code> Required Yes <p>Description: trusted root key for the cloud init image.</p>"},{"location":"schemas/kubespray_inv_schema/#12-property-k8s-kubespray-inv-pve_ha_group","title":"12. Property <code>K8S Kubespray Inv. &gt; pve_ha_group</code>","text":"Type <code>string</code> Required No <p>Description: PVE HA group this vm should be assigned to (optional).</p>"},{"location":"schemas/kubespray_inv_schema/#13-property-k8s-kubespray-inv-qemu_hashed_pw","title":"13. Property <code>K8S Kubespray Inv. &gt; qemu_hashed_pw</code>","text":"Type <code>string</code> Required No <p>Description: Pw for default user defaults to hashed 'password' for debian cloud init image.</p>"},{"location":"schemas/kubespray_inv_schema/#14-property-k8s-kubespray-inv-qemu_base_parameters","title":"14. Property <code>K8S Kubespray Inv. &gt; qemu_base_parameters</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Base parameters passed to the proxmox qm cli tool for creating vm</p>"},{"location":"schemas/kubespray_inv_schema/#15-property-k8s-kubespray-inv-qemu_image_url","title":"15. Property <code>K8S Kubespray Inv. &gt; qemu_image_url</code>","text":"Type <code>string</code> Required No <p>Description: http(s) download link for cloud init image.</p>"},{"location":"schemas/kubespray_inv_schema/#16-property-k8s-kubespray-inv-qemu_keyboard_layout","title":"16. Property <code>K8S Kubespray Inv. &gt; qemu_keyboard_layout</code>","text":"Type <code>string</code> Required No <p>Description: Keyboard layout for cloudinit.</p>"},{"location":"schemas/kubespray_inv_schema/#17-property-k8s-kubespray-inv-qemu_network_config","title":"17. Property <code>K8S Kubespray Inv. &gt; qemu_network_config</code>","text":"Type <code>string</code> Required No <p>Description: Optional qemu network config as a yaml string that is merged into the cloudinit network config of all qemus.</p>"},{"location":"schemas/kubespray_inv_schema/#18-property-k8s-kubespray-inv-acme_staging","title":"18. Property <code>K8S Kubespray Inv. &gt; acme_staging</code>","text":"Type <code>boolean</code> Required No <p>Description: If set to true will use acme staging directory for issueing certs.</p>"},{"location":"schemas/kubespray_inv_schema/#19-property-k8s-kubespray-inv-plugin","title":"19. Property <code>K8S Kubespray Inv. &gt; plugin</code>","text":"Type <code>enum (of string)</code> Required No <p>Description: Id of ansible inventory plugin.</p> <p>Must be one of: * \"pve.cloud.kubespray_inv\"</p>"},{"location":"schemas/kubespray_inv_schema/#20-property-k8s-kubespray-inv-pve_cloud_pytest","title":"20. Property <code>K8S Kubespray Inv. &gt; pve_cloud_pytest</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Variables object used only in e2e tests.</p>"},{"location":"schemas/kubespray_inv_schema/#21-property-k8s-kubespray-inv-qemu_global_vars","title":"21. Property <code>K8S Kubespray Inv. &gt; qemu_global_vars</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Variables that will be applied to all lxc hosts.</p> <p>Generated using json-schema-for-humans on 2025-11-28 at 18:48:44 +0000</p>"},{"location":"schemas/lxc_inv_schema/","title":"LXC Inventory","text":"<p>Title: LXC Inventory</p> Type <code>object</code> Required No Additional properties Not allowed <p>Description: Base inventory for creating lxcs for a single stack on PVE.</p> Property Pattern Type Deprecated Definition Title/Description + target_pve No string No - Proxmox cluster name + cloud domain, this is where the lxcs will be created. + stack_name No string No - Your stack name, needs to be unique within the cloud. - static_includes No object No - - + lxcs No array of object No - List of lxcs that will be created for the stack. - include_stacks No array of object No - Include other cloud stacks into the ansible inventory, from any PVE cluster within the cloud you like. - lxc_global_vars No object No - Variables that will be applied to all lxc hosts and are available in playbooks. - pve_ha_group No string No - When set the stack will be added to the corresponding PVE high availability group. - lxc_base_parameters No object No - PVE pct cli parameters that will be used for all lxcs. - lxc_os_template No string No - `pveam available --section system` / run `pveam update` for newest, PVE available LXC template (will be downloaded). + root_ssh_pub_key No string No - Public key that will be installed for the root user of all lxcs in the stack. - pve_cloud_pytest No object No - Variables object used only in e2e tests. - plugin No enum (of string) No - Id of ansible inventory plugin."},{"location":"schemas/lxc_inv_schema/#1-property-lxc-inventory-target_pve","title":"1. Property <code>LXC Inventory &gt; target_pve</code>","text":"Type <code>string</code> Required Yes <p>Description: Proxmox cluster name + cloud domain, this is where the lxcs will be created.</p>"},{"location":"schemas/lxc_inv_schema/#2-property-lxc-inventory-stack_name","title":"2. Property <code>LXC Inventory &gt; stack_name</code>","text":"Type <code>string</code> Required Yes <p>Description: Your stack name, needs to be unique within the cloud.</p>"},{"location":"schemas/lxc_inv_schema/#3-property-lxc-inventory-static_includes","title":"3. Property <code>LXC Inventory &gt; static_includes</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed"},{"location":"schemas/lxc_inv_schema/#4-property-lxc-inventory-lxcs","title":"4. Property <code>LXC Inventory &gt; lxcs</code>","text":"Type <code>array of object</code> Required Yes <p>Description: List of lxcs that will be created for the stack.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description lxcs items -"},{"location":"schemas/lxc_inv_schema/#41-lxc-inventory-lxcs-lxcs-items","title":"4.1. LXC Inventory &gt; lxcs &gt; lxcs items","text":"Type <code>object</code> Required No Additional properties Any type allowed Property Pattern Type Deprecated Definition Title/Description - hostname No string No - Optional unique hostname for this lxc, otherwise pet name random name will be generated. - target_host No string No - Pve host to tie this vm to. This is useful to always deploy specifically on a proxmox host. - vars No object No - Custom variables for this lxc specifically. Will be usable in playbooks. + parameters No object No - Parameters that will be passed to pve pct cli tool for lxc creation."},{"location":"schemas/lxc_inv_schema/#411-property-lxc-inventory-lxcs-lxcs-items-hostname","title":"4.1.1. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; hostname</code>","text":"Type <code>string</code> Required No <p>Description: Optional unique hostname for this lxc, otherwise pet name random name will be generated.</p>"},{"location":"schemas/lxc_inv_schema/#412-property-lxc-inventory-lxcs-lxcs-items-target_host","title":"4.1.2. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; target_host</code>","text":"Type <code>string</code> Required No <p>Description: Pve host to tie this vm to. This is useful to always deploy specifically on a proxmox host.</p>"},{"location":"schemas/lxc_inv_schema/#413-property-lxc-inventory-lxcs-lxcs-items-vars","title":"4.1.3. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; vars</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Custom variables for this lxc specifically. Will be usable in playbooks.</p>"},{"location":"schemas/lxc_inv_schema/#414-property-lxc-inventory-lxcs-lxcs-items-parameters","title":"4.1.4. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; parameters</code>","text":"Type <code>object</code> Required Yes Additional properties Any type allowed <p>Description: Parameters that will be passed to pve pct cli tool for lxc creation.</p> Property Pattern Type Deprecated Definition Title/Description + rootfs No string No - PVE storage for the container disk. + cores No integer No - Number of virtual CPU cores. + memory No integer No - Memory in bytes, use POW 2. + net0 No string No - Configuration for primary network interface."},{"location":"schemas/lxc_inv_schema/#4141-property-lxc-inventory-lxcs-lxcs-items-parameters-rootfs","title":"4.1.4.1. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; parameters &gt; rootfs</code>","text":"Type <code>string</code> Required Yes <p>Description: PVE storage for the container disk.</p>"},{"location":"schemas/lxc_inv_schema/#4142-property-lxc-inventory-lxcs-lxcs-items-parameters-cores","title":"4.1.4.2. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; parameters &gt; cores</code>","text":"Type <code>integer</code> Required Yes <p>Description: Number of virtual CPU cores.</p>"},{"location":"schemas/lxc_inv_schema/#4143-property-lxc-inventory-lxcs-lxcs-items-parameters-memory","title":"4.1.4.3. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; parameters &gt; memory</code>","text":"Type <code>integer</code> Required Yes <p>Description: Memory in bytes, use POW 2.</p>"},{"location":"schemas/lxc_inv_schema/#4144-property-lxc-inventory-lxcs-lxcs-items-parameters-net0","title":"4.1.4.4. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; parameters &gt; net0</code>","text":"Type <code>string</code> Required Yes <p>Description: Configuration for primary network interface.</p> <p>Example:</p> <pre><code>\"name=eth0,bridge=vmbr0,tag=120,firewall=1,ip=dhcp\"\n</code></pre>"},{"location":"schemas/lxc_inv_schema/#5-property-lxc-inventory-include_stacks","title":"5. Property <code>LXC Inventory &gt; include_stacks</code>","text":"Type <code>array of object</code> Required No <p>Description: Include other cloud stacks into the ansible inventory, from any PVE cluster within the cloud you like.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description include_stacks items -"},{"location":"schemas/lxc_inv_schema/#51-lxc-inventory-include_stacks-include_stacks-items","title":"5.1. LXC Inventory &gt; include_stacks &gt; include_stacks items","text":"Type <code>object</code> Required No Additional properties Any type allowed Property Pattern Type Deprecated Definition Title/Description - stack_fqdn No string No - Target stack fqdn to include (stack name + pve_cloud_domain). Will automatically include it from the right pve cluster. - host_group No string No - This is the name of the hosts group of our ansible inventory the included vms will be under. - qemu_ansible_user No string No - User ansible will use to connect if its a vm, defaults to admin. LXCs are always root."},{"location":"schemas/lxc_inv_schema/#511-property-lxc-inventory-include_stacks-include_stacks-items-stack_fqdn","title":"5.1.1. Property <code>LXC Inventory &gt; include_stacks &gt; include_stacks items &gt; stack_fqdn</code>","text":"Type <code>string</code> Required No <p>Description: Target stack fqdn to include (stack name + pve_cloud_domain). Will automatically include it from the right pve cluster.</p>"},{"location":"schemas/lxc_inv_schema/#512-property-lxc-inventory-include_stacks-include_stacks-items-host_group","title":"5.1.2. Property <code>LXC Inventory &gt; include_stacks &gt; include_stacks items &gt; host_group</code>","text":"Type <code>string</code> Required No <p>Description: This is the name of the hosts group of our ansible inventory the included vms will be under.</p>"},{"location":"schemas/lxc_inv_schema/#513-property-lxc-inventory-include_stacks-include_stacks-items-qemu_ansible_user","title":"5.1.3. Property <code>LXC Inventory &gt; include_stacks &gt; include_stacks items &gt; qemu_ansible_user</code>","text":"Type <code>string</code> Required No <p>Description: User ansible will use to connect if its a vm, defaults to admin. LXCs are always root.</p>"},{"location":"schemas/lxc_inv_schema/#6-property-lxc-inventory-lxc_global_vars","title":"6. Property <code>LXC Inventory &gt; lxc_global_vars</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Variables that will be applied to all lxc hosts and are available in playbooks.</p> Property Pattern Type Deprecated Definition Title/Description - use_alternate_ssh_port No boolean No - Will use 2222 instead of 22 for ssh. - install_prom_systemd_exporter No boolean No - Will install prometheus metrics exporter for systemd. This implements with pve cloud terraform monitoring modules. -  No object No - -"},{"location":"schemas/lxc_inv_schema/#61-property-lxc-inventory-lxc_global_vars-use_alternate_ssh_port","title":"6.1. Property <code>LXC Inventory &gt; lxc_global_vars &gt; use_alternate_ssh_port</code>","text":"Type <code>boolean</code> Required No <p>Description: Will use 2222 instead of 22 for ssh.</p>"},{"location":"schemas/lxc_inv_schema/#62-property-lxc-inventory-lxc_global_vars-install_prom_systemd_exporter","title":"6.2. Property <code>LXC Inventory &gt; lxc_global_vars &gt; install_prom_systemd_exporter</code>","text":"Type <code>boolean</code> Required No <p>Description: Will install prometheus metrics exporter for systemd. This implements with pve cloud terraform monitoring modules.</p>"},{"location":"schemas/lxc_inv_schema/#7-property-lxc-inventory-pve_ha_group","title":"7. Property <code>LXC Inventory &gt; pve_ha_group</code>","text":"Type <code>string</code> Required No <p>Description: When set the stack will be added to the corresponding PVE high availability group.</p>"},{"location":"schemas/lxc_inv_schema/#8-property-lxc-inventory-lxc_base_parameters","title":"8. Property <code>LXC Inventory &gt; lxc_base_parameters</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: PVE pct cli parameters that will be used for all lxcs.</p>"},{"location":"schemas/lxc_inv_schema/#9-property-lxc-inventory-lxc_os_template","title":"9. Property <code>LXC Inventory &gt; lxc_os_template</code>","text":"Type <code>string</code> Required No <p>Description: <code>pveam available --section system</code> / run <code>pveam update</code> for newest, PVE available LXC template (will be downloaded).</p>"},{"location":"schemas/lxc_inv_schema/#10-property-lxc-inventory-root_ssh_pub_key","title":"10. Property <code>LXC Inventory &gt; root_ssh_pub_key</code>","text":"Type <code>string</code> Required Yes <p>Description: Public key that will be installed for the root user of all lxcs in the stack.</p>"},{"location":"schemas/lxc_inv_schema/#11-property-lxc-inventory-pve_cloud_pytest","title":"11. Property <code>LXC Inventory &gt; pve_cloud_pytest</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Variables object used only in e2e tests.</p>"},{"location":"schemas/lxc_inv_schema/#12-property-lxc-inventory-plugin","title":"12. Property <code>LXC Inventory &gt; plugin</code>","text":"Type <code>enum (of string)</code> Required No <p>Description: Id of ansible inventory plugin.</p> <p>Must be one of: * \"pve.cloud.lxc_inv\"</p> <p>Generated using json-schema-for-humans on 2025-11-28 at 18:48:44 +0000</p>"},{"location":"schemas/pve_cloud_inv_schema/","title":"Cloud Inventory","text":"<p>Title: Cloud Inventory</p> Type <code>object</code> Required No Additional properties Not allowed <p>Description: Definitions for a proxmox cloud.</p> Property Pattern Type Deprecated Definition Title/Description + pve_vm_subnet No string No - Subnet this PVE cluster uses for its VMs. + pve_cloud_domain No string No - The overarching domain for the cloud. Will also be used for ddns. + pve_clusters No object No - Definitions for specific Proxmox clusters that will be part of the cloud. Keys are hostnames. + bind_master_ip No string No - IP of the primary bind dns for this cluster, will be statically assigned. + bind_slave_ip No string No - IP of the slave bind dns for this cluster. + bind_arpa_zone_service_lxcs No string No - Arpa zone in which service lxcs with static ips will manuall get their reverse dns entries. + bind_additional_arpa_zones No array No - Additional arpa zones which should be created and managed in the dns / dhcp ddns. + bind_zone_admin_email No string No - Required adminstrator email in bind format for bind zones. - bind_forward_zones No array of object No - Creates zone in bind and delegation ns records to the specified nameservers. + kea_dhcp_main_ip No string No - Static assigned ip for the main dhcp server. + kea_dhcp_failover_ip No string No - Static ip for slave dhcp server. + kea_dhcp_routers No string No - option-data for kea dhcp routers. The default route router that the dhcp will communicate. + kea_dhcp_pools No array of string No - Address pools that the dhcp allocates from. Has to be within pve_vm_subnet cidr. + kea_dhcp_static_routes No string No - classless-static-routes for kea option-data. Extra routes you want the dhcp to communicate, for example to a custom VPN gateway. - kea_dhcp_ceph_frontend_subnet No string No - Optional cidr definition for a seperate dhcp if the ceph frontend resides on a different interface (map it inside the dhcp lxcs to pve0). - kea_dhcp_ceph_frontend_pool No string No - Pool kea definition for ceph frontend ip allocations, this way monitors can have their static block. - acme_contact No string No - Email address to use for acme account creation. - acme_method No enum (of string) No - PVE Cloud included method for solving dns01 challenges. - pve_cloud_pytest No object No - Variables object used only in e2e tests. - plugin No enum (of string) No - Id of ansible inventory plugin, needs to be set exactly."},{"location":"schemas/pve_cloud_inv_schema/#1-property-cloud-inventory-pve_vm_subnet","title":"1. Property <code>Cloud Inventory &gt; pve_vm_subnet</code>","text":"Type <code>string</code> Required Yes <p>Description: Subnet this PVE cluster uses for its VMs.</p>"},{"location":"schemas/pve_cloud_inv_schema/#2-property-cloud-inventory-pve_cloud_domain","title":"2. Property <code>Cloud Inventory &gt; pve_cloud_domain</code>","text":"Type <code>string</code> Required Yes <p>Description: The overarching domain for the cloud. Will also be used for ddns.</p>"},{"location":"schemas/pve_cloud_inv_schema/#3-property-cloud-inventory-pve_clusters","title":"3. Property <code>Cloud Inventory &gt; pve_clusters</code>","text":"Type <code>object</code> Required Yes Additional properties Not allowed <p>Description: Definitions for specific Proxmox clusters that will be part of the cloud. Keys are hostnames.</p> Property Pattern Type Deprecated Definition Title/Description - ^.*$ Yes object No - PVE cluster fqdn"},{"location":"schemas/pve_cloud_inv_schema/#31-pattern-property-cloud-inventory-pve_clusters-pve-cluster-fqdn","title":"3.1. Pattern Property <code>Cloud Inventory &gt; pve_clusters &gt; PVE cluster fqdn</code>","text":"<p>All properties whose name matches the regular expression <code>^.*$</code> (Test) must respect the following conditions</p> <p>Title: PVE cluster fqdn</p> Type <code>object</code> Required No Additional properties Not allowed <p>Description: Fully quantified name for the cluster.</p> Property Pattern Type Deprecated Definition Title/Description - pve_haproxy_floating_ip No string No - Floating ip of our central cluster HAProxy. - pve_haproxy_floating_ip_internal No string No - Floating ip that is exclusively accessible from inside the cloud / location. External forwardings should be made to pve_haproxy_floating_ip. + pve_unique_cloud_services No array of enum (of string) No - Unique service the cluster provides for its cloud. Unique in the sense that only one cluster may provide each of the services. - pve_host_vars No object No - Optional variables that will be specifically set for a pve host. Key is the simple host name."},{"location":"schemas/pve_cloud_inv_schema/#311-property-cloud-inventory-pve_clusters-pve-cluster-fqdn-pve_haproxy_floating_ip","title":"3.1.1. Property <code>Cloud Inventory &gt; pve_clusters &gt; PVE cluster fqdn &gt; pve_haproxy_floating_ip</code>","text":"Type <code>string</code> Required No <p>Description: Floating ip of our central cluster HAProxy.</p>"},{"location":"schemas/pve_cloud_inv_schema/#312-property-cloud-inventory-pve_clusters-pve-cluster-fqdn-pve_haproxy_floating_ip_internal","title":"3.1.2. Property <code>Cloud Inventory &gt; pve_clusters &gt; PVE cluster fqdn &gt; pve_haproxy_floating_ip_internal</code>","text":"Type <code>string</code> Required No <p>Description: Floating ip that is exclusively accessible from inside the cloud / location. External forwardings should be made to pve_haproxy_floating_ip.</p>"},{"location":"schemas/pve_cloud_inv_schema/#313-property-cloud-inventory-pve_clusters-pve-cluster-fqdn-pve_unique_cloud_services","title":"3.1.3. Property <code>Cloud Inventory &gt; pve_clusters &gt; PVE cluster fqdn &gt; pve_unique_cloud_services</code>","text":"Type <code>array of enum (of string)</code> Required Yes <p>Description: Unique service the cluster provides for its cloud. Unique in the sense that only one cluster may provide each of the services.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description pve_unique_cloud_services items -"},{"location":"schemas/pve_cloud_inv_schema/#3131-cloud-inventory-pve_clusters-pve-cluster-fqdn-pve_unique_cloud_services-pve_unique_cloud_services-items","title":"3.1.3.1. Cloud Inventory &gt; pve_clusters &gt; PVE cluster fqdn &gt; pve_unique_cloud_services &gt; pve_unique_cloud_services items","text":"Type <code>enum (of string)</code> Required No <p>Must be one of: * \"dns\" * \"dhcp\" * \"psql-state\"</p>"},{"location":"schemas/pve_cloud_inv_schema/#314-property-cloud-inventory-pve_clusters-pve-cluster-fqdn-pve_host_vars","title":"3.1.4. Property <code>Cloud Inventory &gt; pve_clusters &gt; PVE cluster fqdn &gt; pve_host_vars</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Optional variables that will be specifically set for a pve host. Key is the simple host name.</p> Property Pattern Type Deprecated Definition Title/Description - wol_iface No string No - Inteface wol should be enabled using ethtool. - tso_gso_fix No array No - Will turn of network optimizations on old network cards, this assures they can run indefinetly. Will only take effect with the e1000_driver_fix playbook. - mac_iface_mapping No array of object No - Map mac addresses to interface names, will be picked up by setup playbooks. This will actually change the interfaces names on the host aswell as try to replace /etc/network/interfaces."},{"location":"schemas/pve_cloud_inv_schema/#3141-property-cloud-inventory-pve_clusters-pve-cluster-fqdn-pve_host_vars-wol_iface","title":"3.1.4.1. Property <code>Cloud Inventory &gt; pve_clusters &gt; PVE cluster fqdn &gt; pve_host_vars &gt; wol_iface</code>","text":"Type <code>string</code> Required No <p>Description: Inteface wol should be enabled using ethtool.</p>"},{"location":"schemas/pve_cloud_inv_schema/#3142-property-cloud-inventory-pve_clusters-pve-cluster-fqdn-pve_host_vars-tso_gso_fix","title":"3.1.4.2. Property <code>Cloud Inventory &gt; pve_clusters &gt; PVE cluster fqdn &gt; pve_host_vars &gt; tso_gso_fix</code>","text":"Type <code>array</code> Required No <p>Description: Will turn of network optimizations on old network cards, this assures they can run indefinetly. Will only take effect with the e1000_driver_fix playbook.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation N/A"},{"location":"schemas/pve_cloud_inv_schema/#3143-property-cloud-inventory-pve_clusters-pve-cluster-fqdn-pve_host_vars-mac_iface_mapping","title":"3.1.4.3. Property <code>Cloud Inventory &gt; pve_clusters &gt; PVE cluster fqdn &gt; pve_host_vars &gt; mac_iface_mapping</code>","text":"Type <code>array of object</code> Required No <p>Description: Map mac addresses to interface names, will be picked up by setup playbooks. This will actually change the interfaces names on the host aswell as try to replace /etc/network/interfaces.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description mac_iface_mapping items -"},{"location":"schemas/pve_cloud_inv_schema/#31431-cloud-inventory-pve_clusters-pve-cluster-fqdn-pve_host_vars-mac_iface_mapping-mac_iface_mapping-items","title":"3.1.4.3.1. Cloud Inventory &gt; pve_clusters &gt; PVE cluster fqdn &gt; pve_host_vars &gt; mac_iface_mapping &gt; mac_iface_mapping items","text":"Type <code>object</code> Required No Additional properties Not allowed Property Pattern Type Deprecated Definition Title/Description + mac_addr No string No - Network device mac address. + iface No string No - Interface name that will be assigned to the device. Default name will be removed!"},{"location":"schemas/pve_cloud_inv_schema/#314311-property-cloud-inventory-pve_clusters-pve-cluster-fqdn-pve_host_vars-mac_iface_mapping-mac_iface_mapping-items-mac_addr","title":"3.1.4.3.1.1. Property <code>Cloud Inventory &gt; pve_clusters &gt; PVE cluster fqdn &gt; pve_host_vars &gt; mac_iface_mapping &gt; mac_iface_mapping items &gt; mac_addr</code>","text":"Type <code>string</code> Required Yes <p>Description: Network device mac address.</p>"},{"location":"schemas/pve_cloud_inv_schema/#314312-property-cloud-inventory-pve_clusters-pve-cluster-fqdn-pve_host_vars-mac_iface_mapping-mac_iface_mapping-items-iface","title":"3.1.4.3.1.2. Property <code>Cloud Inventory &gt; pve_clusters &gt; PVE cluster fqdn &gt; pve_host_vars &gt; mac_iface_mapping &gt; mac_iface_mapping items &gt; iface</code>","text":"Type <code>string</code> Required Yes <p>Description: Interface name that will be assigned to the device. Default name will be removed!</p>"},{"location":"schemas/pve_cloud_inv_schema/#4-property-cloud-inventory-bind_master_ip","title":"4. Property <code>Cloud Inventory &gt; bind_master_ip</code>","text":"Type <code>string</code> Required Yes <p>Description: IP of the primary bind dns for this cluster, will be statically assigned.</p>"},{"location":"schemas/pve_cloud_inv_schema/#5-property-cloud-inventory-bind_slave_ip","title":"5. Property <code>Cloud Inventory &gt; bind_slave_ip</code>","text":"Type <code>string</code> Required Yes <p>Description: IP of the slave bind dns for this cluster.</p>"},{"location":"schemas/pve_cloud_inv_schema/#6-property-cloud-inventory-bind_arpa_zone_service_lxcs","title":"6. Property <code>Cloud Inventory &gt; bind_arpa_zone_service_lxcs</code>","text":"Type <code>string</code> Required Yes <p>Description: Arpa zone in which service lxcs with static ips will manuall get their reverse dns entries.</p>"},{"location":"schemas/pve_cloud_inv_schema/#7-property-cloud-inventory-bind_additional_arpa_zones","title":"7. Property <code>Cloud Inventory &gt; bind_additional_arpa_zones</code>","text":"Type <code>array</code> Required Yes <p>Description: Additional arpa zones which should be created and managed in the dns / dhcp ddns.</p> <p>Example:</p> <pre><code>\"1.168.192.in-addr.arpa\"\n</code></pre> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation N/A"},{"location":"schemas/pve_cloud_inv_schema/#8-property-cloud-inventory-bind_zone_admin_email","title":"8. Property <code>Cloud Inventory &gt; bind_zone_admin_email</code>","text":"Type <code>string</code> Required Yes <p>Description: Required adminstrator email in bind format for bind zones.</p> <p>Example:</p> <pre><code>\"admin.example.com.\"\n</code></pre>"},{"location":"schemas/pve_cloud_inv_schema/#9-property-cloud-inventory-bind_forward_zones","title":"9. Property <code>Cloud Inventory &gt; bind_forward_zones</code>","text":"Type <code>array of object</code> Required No <p>Description: Creates zone in bind and delegation ns records to the specified nameservers.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description bind_forward_zones items -"},{"location":"schemas/pve_cloud_inv_schema/#91-cloud-inventory-bind_forward_zones-bind_forward_zones-items","title":"9.1. Cloud Inventory &gt; bind_forward_zones &gt; bind_forward_zones items","text":"Type <code>object</code> Required No Additional properties Any type allowed Property Pattern Type Deprecated Definition Title/Description - zone No string No - - - nameservers No array of string No - -"},{"location":"schemas/pve_cloud_inv_schema/#911-property-cloud-inventory-bind_forward_zones-bind_forward_zones-items-zone","title":"9.1.1. Property <code>Cloud Inventory &gt; bind_forward_zones &gt; bind_forward_zones items &gt; zone</code>","text":"Type <code>string</code> Required No"},{"location":"schemas/pve_cloud_inv_schema/#912-property-cloud-inventory-bind_forward_zones-bind_forward_zones-items-nameservers","title":"9.1.2. Property <code>Cloud Inventory &gt; bind_forward_zones &gt; bind_forward_zones items &gt; nameservers</code>","text":"Type <code>array of string</code> Required No Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description nameservers items -"},{"location":"schemas/pve_cloud_inv_schema/#9121-cloud-inventory-bind_forward_zones-bind_forward_zones-items-nameservers-nameservers-items","title":"9.1.2.1. Cloud Inventory &gt; bind_forward_zones &gt; bind_forward_zones items &gt; nameservers &gt; nameservers items","text":"Type <code>string</code> Required No"},{"location":"schemas/pve_cloud_inv_schema/#10-property-cloud-inventory-kea_dhcp_main_ip","title":"10. Property <code>Cloud Inventory &gt; kea_dhcp_main_ip</code>","text":"Type <code>string</code> Required Yes <p>Description: Static assigned ip for the main dhcp server.</p>"},{"location":"schemas/pve_cloud_inv_schema/#11-property-cloud-inventory-kea_dhcp_failover_ip","title":"11. Property <code>Cloud Inventory &gt; kea_dhcp_failover_ip</code>","text":"Type <code>string</code> Required Yes <p>Description: Static ip for slave dhcp server.</p>"},{"location":"schemas/pve_cloud_inv_schema/#12-property-cloud-inventory-kea_dhcp_routers","title":"12. Property <code>Cloud Inventory &gt; kea_dhcp_routers</code>","text":"Type <code>string</code> Required Yes <p>Description: option-data for kea dhcp routers. The default route router that the dhcp will communicate.</p>"},{"location":"schemas/pve_cloud_inv_schema/#13-property-cloud-inventory-kea_dhcp_pools","title":"13. Property <code>Cloud Inventory &gt; kea_dhcp_pools</code>","text":"Type <code>array of string</code> Required Yes <p>Description: Address pools that the dhcp allocates from. Has to be within pve_vm_subnet cidr.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description kea_dhcp_pools items IPV4 Address range in keas format."},{"location":"schemas/pve_cloud_inv_schema/#131-cloud-inventory-kea_dhcp_pools-kea_dhcp_pools-items","title":"13.1. Cloud Inventory &gt; kea_dhcp_pools &gt; kea_dhcp_pools items","text":"Type <code>string</code> Required No <p>Description: IPV4 Address range in keas format.</p> <p>Example:</p> <pre><code>\"192.168.1.2 - 192.168.1.199\"\n</code></pre>"},{"location":"schemas/pve_cloud_inv_schema/#14-property-cloud-inventory-kea_dhcp_static_routes","title":"14. Property <code>Cloud Inventory &gt; kea_dhcp_static_routes</code>","text":"Type <code>string</code> Required Yes <p>Description: classless-static-routes for kea option-data. Extra routes you want the dhcp to communicate, for example to a custom VPN gateway.</p> <p>Example:</p> <pre><code>\"0.0.0.0/0 - 192.168.1.1, 10.0.2.0/24 - 192.168.1.217\"\n</code></pre>"},{"location":"schemas/pve_cloud_inv_schema/#15-property-cloud-inventory-kea_dhcp_ceph_frontend_subnet","title":"15. Property <code>Cloud Inventory &gt; kea_dhcp_ceph_frontend_subnet</code>","text":"Type <code>string</code> Required No <p>Description: Optional cidr definition for a seperate dhcp if the ceph frontend resides on a different interface (map it inside the dhcp lxcs to pve0).</p> <p>Example:</p> <pre><code>\"10.255.42.0/23\"\n</code></pre>"},{"location":"schemas/pve_cloud_inv_schema/#16-property-cloud-inventory-kea_dhcp_ceph_frontend_pool","title":"16. Property <code>Cloud Inventory &gt; kea_dhcp_ceph_frontend_pool</code>","text":"Type <code>string</code> Required No <p>Description: Pool kea definition for ceph frontend ip allocations, this way monitors can have their static block.</p> <p>Example:</p> <pre><code>\"10.255.42.17 - 10.255.43.254\"\n</code></pre>"},{"location":"schemas/pve_cloud_inv_schema/#17-property-cloud-inventory-acme_contact","title":"17. Property <code>Cloud Inventory &gt; acme_contact</code>","text":"Type <code>string</code> Required No <p>Description: Email address to use for acme account creation.</p>"},{"location":"schemas/pve_cloud_inv_schema/#18-property-cloud-inventory-acme_method","title":"18. Property <code>Cloud Inventory &gt; acme_method</code>","text":"Type <code>enum (of string)</code> Required No <p>Description: PVE Cloud included method for solving dns01 challenges.</p> <p>Must be one of: * \"route53\" * \"ionos\"</p>"},{"location":"schemas/pve_cloud_inv_schema/#19-property-cloud-inventory-pve_cloud_pytest","title":"19. Property <code>Cloud Inventory &gt; pve_cloud_pytest</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Variables object used only in e2e tests.</p>"},{"location":"schemas/pve_cloud_inv_schema/#20-property-cloud-inventory-plugin","title":"20. Property <code>Cloud Inventory &gt; plugin</code>","text":"Type <code>enum (of string)</code> Required No <p>Description: Id of ansible inventory plugin, needs to be set exactly.</p> <p>Must be one of: * \"pve.cloud.pve_cloud_inv\"</p> <p>Generated using json-schema-for-humans on 2025-11-28 at 18:48:44 +0000</p>"},{"location":"schemas/pve_inventory_schema/","title":"Schema Docs","text":"Type <code>object</code> Required No Additional properties Not allowed <p>Description: Inventory file located in user home directory ~/.pve-cloud-dyn-inv.yaml, containing all the pve clusters the user has access to via ssh.</p> Property Pattern Type Deprecated Definition Title/Description - plugin No enum (of string) No - Id of ansible inventory plugin, needs to be set exactly. - (?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9] Yes object No - The overarching pve cloud domain. Contains multiple pve clusters."},{"location":"schemas/pve_inventory_schema/#1-property-root-plugin","title":"1. Property <code>root &gt; plugin</code>","text":"Type <code>enum (of string)</code> Required No <p>Description: Id of ansible inventory plugin, needs to be set exactly.</p> <p>Must be one of: * \"pve.cloud.pve_inventory\"</p>"},{"location":"schemas/pve_inventory_schema/#2-pattern-property-root-a-z0-9a-z0-9-061a-z0-9a-z0-9a-z0-9-061a-z0-9","title":"2. Pattern Property <code>root &gt; (?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]</code>","text":"<p>All properties whose name matches the regular expression <code>(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]</code> (Test) must respect the following conditions</p> Type <code>object</code> Required No Additional properties Any type allowed <p>Description: The overarching pve cloud domain. Contains multiple pve clusters.</p> Property Pattern Type Deprecated Definition Title/Description - ^.*$ Yes object No - The identifying pve cluster domain. Synonymous with target_pve."},{"location":"schemas/pve_inventory_schema/#21-pattern-property-root-a-z0-9a-z0-9-061a-z0-9a-z0-9a-z0-9-061a-z0-9","title":"2.1. Pattern Property <code>root &gt; (?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9] &gt; ^.*$</code>","text":"<p>All properties whose name matches the regular expression <code>^.*$</code> (Test) must respect the following conditions</p> Type <code>object</code> Required No Additional properties Not allowed <p>Description: The identifying pve cluster domain. Synonymous with target_pve.</p> Property Pattern Type Deprecated Definition Title/Description - ^.*$ Yes object No - Hostname of a pve host (short)."},{"location":"schemas/pve_inventory_schema/#211-pattern-property-root-a-z0-9a-z0-9-061a-z0-9a-z0-9a-z0-9-061a-z0-9","title":"2.1.1. Pattern Property <code>root &gt; (?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9] &gt; ^.*$ &gt; ^.*$</code>","text":"<p>All properties whose name matches the regular expression <code>^.*$</code> (Test) must respect the following conditions</p> Type <code>object</code> Required No Additional properties Not allowed <p>Description: Hostname of a pve host (short).</p> Property Pattern Type Deprecated Definition Title/Description + ansible_user No string No - - + ansible_host No string No - - - vars No object No - -"},{"location":"schemas/pve_inventory_schema/#2111-property-root-a-z0-9a-z0-9-061a-z0-9a-z0-9a-z0-9-061a-z0-9-ansible_user","title":"2.1.1.1. Property <code>root &gt; (?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9] &gt; ^.*$ &gt; ^.*$ &gt; ansible_user</code>","text":"Type <code>string</code> Required Yes"},{"location":"schemas/pve_inventory_schema/#2112-property-root-a-z0-9a-z0-9-061a-z0-9a-z0-9a-z0-9-061a-z0-9-ansible_host","title":"2.1.1.2. Property <code>root &gt; (?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9] &gt; ^.*$ &gt; ^.*$ &gt; ansible_host</code>","text":"Type <code>string</code> Required Yes"},{"location":"schemas/pve_inventory_schema/#2113-property-root-a-z0-9a-z0-9-061a-z0-9a-z0-9a-z0-9-061a-z0-9-vars","title":"2.1.1.3. Property <code>root &gt; (?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9] &gt; ^.*$ &gt; ^.*$ &gt; vars</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed Property Pattern Type Deprecated Definition Title/Description - wol_iface No string No - Inteface wol should be enabled using ethtool. - tso_gso_fix No array No - Will turn of network optimizations on old network cards, this assures they can run indefinetly. - mac_iface_mapping No array of object No - Will setup the pve hosts networkdevices with a fixed name mapped for specified mac addresses."},{"location":"schemas/pve_inventory_schema/#21131-property-root-a-z0-9a-z0-9-061a-z0-9a-z0-9a-z0-9-061a-z0-9-vars-wol_iface","title":"2.1.1.3.1. Property <code>root &gt; (?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9] &gt; ^.*$ &gt; ^.*$ &gt; vars &gt; wol_iface</code>","text":"Type <code>string</code> Required No <p>Description: Inteface wol should be enabled using ethtool.</p>"},{"location":"schemas/pve_inventory_schema/#21132-property-root-a-z0-9a-z0-9-061a-z0-9a-z0-9a-z0-9-061a-z0-9-vars-tso_gso_fix","title":"2.1.1.3.2. Property <code>root &gt; (?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9] &gt; ^.*$ &gt; ^.*$ &gt; vars &gt; tso_gso_fix</code>","text":"Type <code>array</code> Required No <p>Description: Will turn of network optimizations on old network cards, this assures they can run indefinetly.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation N/A"},{"location":"schemas/pve_inventory_schema/#21133-property-root-a-z0-9a-z0-9-061a-z0-9a-z0-9a-z0-9-061a-z0-9-vars-mac_iface_mapping","title":"2.1.1.3.3. Property <code>root &gt; (?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9] &gt; ^.*$ &gt; ^.*$ &gt; vars &gt; mac_iface_mapping</code>","text":"Type <code>array of object</code> Required No <p>Description: Will setup the pve hosts networkdevices with a fixed name mapped for specified mac addresses.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description mac_iface_mapping items -"},{"location":"schemas/pve_inventory_schema/#211331-root-a-z0-9a-z0-9a-z0-9-061a-z0-9-vars-mac_iface_mapping-mac_iface_mapping-items","title":"2.1.1.3.3.1. root &gt; (?:a-z0-9?.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9] &gt; ^.$ &gt; ^.$ &gt; vars &gt; mac_iface_mapping &gt; mac_iface_mapping items","text":"Type <code>object</code> Required No Additional properties Not allowed Property Pattern Type Deprecated Definition Title/Description + mac_addr No string No - - + iface No string No - -"},{"location":"schemas/pve_inventory_schema/#2113311-property-root-a-z0-9a-z0-9-061a-z0-9a-z0-9a-z0-9-061a-z0-9-vars-mac_iface_mapping-mac_iface_mapping-items-mac_addr","title":"2.1.1.3.3.1.1. Property <code>root &gt; (?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9] &gt; ^.*$ &gt; ^.*$ &gt; vars &gt; mac_iface_mapping &gt; mac_iface_mapping items &gt; mac_addr</code>","text":"Type <code>string</code> Required Yes"},{"location":"schemas/pve_inventory_schema/#2113312-property-root-a-z0-9a-z0-9-061a-z0-9a-z0-9a-z0-9-061a-z0-9-vars-mac_iface_mapping-mac_iface_mapping-items-iface","title":"2.1.1.3.3.1.2. Property <code>root &gt; (?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9] &gt; ^.*$ &gt; ^.*$ &gt; vars &gt; mac_iface_mapping &gt; mac_iface_mapping items &gt; iface</code>","text":"Type <code>string</code> Required Yes <p>Generated using json-schema-for-humans on 2025-11-28 at 18:48:44 +0000</p>"},{"location":"schemas/qemu_inv_schema/","title":"VM Inventory","text":"<p>Title: VM Inventory</p> Type <code>object</code> Required No Additional properties Not allowed <p>Description: Inventory for deploying k8s clusters via kubespray on PVE.</p> Property Pattern Type Deprecated Definition Title/Description + stack_name No string No - Your stack name, needs to be unique within the parent_domain. Will create its own sub zone. + target_pve No string No - The pve cluster this stack should reside in, defined in ~/.pve-cloud-dyn-inv.yaml via `pvcli connect-cluster` + qemus No array of object No - Nodes for the cluster in form of qemu vms. - include_stacks No array of object No - - - static_includes No object No - - + root_ssh_pub_key No string No - Ssh key for qemu_default_user - pve_ha_group No string No - PVE HA Group this qemu instance should be assigned to. - qemu_default_user No string No - User for cinit. - qemu_hashed_pw No string No - The hashed password that will be passed to cloudinit. Use `mkpasswd --method=SHA-512` with the fitting method for your cinit image. - qemu_base_parameters No object No - Parameters from qm create proxmox cli tool that will be passed to all created qemus. - qemu_image_url No string No - http(s) download link to the cinit image you want to use. - qemu_keyboard_layout No string No - The keyboard layout, can be and of de, en .... - qemu_global_vars No object No - Variables that will be applied to all lxc hosts - pve_cloud_pytest No object No - Variables object used only in e2e tests. - plugin No enum (of string) No - Id of ansible inventory plugin"},{"location":"schemas/qemu_inv_schema/#1-property-vm-inventory-stack_name","title":"1. Property <code>VM Inventory &gt; stack_name</code>","text":"Type <code>string</code> Required Yes <p>Description: Your stack name, needs to be unique within the parent_domain. Will create its own sub zone.</p>"},{"location":"schemas/qemu_inv_schema/#2-property-vm-inventory-target_pve","title":"2. Property <code>VM Inventory &gt; target_pve</code>","text":"Type <code>string</code> Required Yes <p>Description: The pve cluster this stack should reside in, defined in ~/.pve-cloud-dyn-inv.yaml via <code>pvcli connect-cluster</code></p>"},{"location":"schemas/qemu_inv_schema/#3-property-vm-inventory-qemus","title":"3. Property <code>VM Inventory &gt; qemus</code>","text":"Type <code>array of object</code> Required Yes <p>Description: Nodes for the cluster in form of qemu vms.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description qemus items -"},{"location":"schemas/qemu_inv_schema/#31-vm-inventory-qemus-qemus-items","title":"3.1. VM Inventory &gt; qemus &gt; qemus items","text":"Type <code>object</code> Required No Additional properties Any type allowed Property Pattern Type Deprecated Definition Title/Description - parameters No object No - In accordance with pve qm cli tool, creation args. - disk No object No - -"},{"location":"schemas/qemu_inv_schema/#311-property-vm-inventory-qemus-qemus-items-parameters","title":"3.1.1. Property <code>VM Inventory &gt; qemus &gt; qemus items &gt; parameters</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: In accordance with pve qm cli tool, creation args.</p>"},{"location":"schemas/qemu_inv_schema/#312-property-vm-inventory-qemus-qemus-items-disk","title":"3.1.2. Property <code>VM Inventory &gt; qemus &gt; qemus items &gt; disk</code>","text":"Type <code>object</code> Required No Additional properties Not allowed Property Pattern Type Deprecated Definition Title/Description + size No string No - Size of the vms disk. - options No object No - Mount options + pool No string No - Ceph pool name the vms disk will be created in."},{"location":"schemas/qemu_inv_schema/#3121-property-vm-inventory-qemus-qemus-items-disk-size","title":"3.1.2.1. Property <code>VM Inventory &gt; qemus &gt; qemus items &gt; disk &gt; size</code>","text":"Type <code>string</code> Required Yes <p>Description: Size of the vms disk.</p>"},{"location":"schemas/qemu_inv_schema/#3122-property-vm-inventory-qemus-qemus-items-disk-options","title":"3.1.2.2. Property <code>VM Inventory &gt; qemus &gt; qemus items &gt; disk &gt; options</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Mount options</p>"},{"location":"schemas/qemu_inv_schema/#3123-property-vm-inventory-qemus-qemus-items-disk-pool","title":"3.1.2.3. Property <code>VM Inventory &gt; qemus &gt; qemus items &gt; disk &gt; pool</code>","text":"Type <code>string</code> Required Yes <p>Description: Ceph pool name the vms disk will be created in.</p>"},{"location":"schemas/qemu_inv_schema/#4-property-vm-inventory-include_stacks","title":"4. Property <code>VM Inventory &gt; include_stacks</code>","text":"Type <code>array of object</code> Required No Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description include_stacks items Include other stacks into the ansible inventory, from any PVE cluster you like."},{"location":"schemas/qemu_inv_schema/#41-vm-inventory-include_stacks-include_stacks-items","title":"4.1. VM Inventory &gt; include_stacks &gt; include_stacks items","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Include other stacks into the ansible inventory, from any PVE cluster you like.</p> Property Pattern Type Deprecated Definition Title/Description - stack_fqdn No string No - Target stack fqdn to include (stack name + pve_cloud_domain) - host_group No string No - This is the name of the hosts group of our ansible inventory the included vms will be under. - qemu_ansible_user No string No - User ansible will use to connect, defaults to admin."},{"location":"schemas/qemu_inv_schema/#411-property-vm-inventory-include_stacks-include_stacks-items-stack_fqdn","title":"4.1.1. Property <code>VM Inventory &gt; include_stacks &gt; include_stacks items &gt; stack_fqdn</code>","text":"Type <code>string</code> Required No <p>Description: Target stack fqdn to include (stack name + pve_cloud_domain)</p>"},{"location":"schemas/qemu_inv_schema/#412-property-vm-inventory-include_stacks-include_stacks-items-host_group","title":"4.1.2. Property <code>VM Inventory &gt; include_stacks &gt; include_stacks items &gt; host_group</code>","text":"Type <code>string</code> Required No <p>Description: This is the name of the hosts group of our ansible inventory the included vms will be under.</p>"},{"location":"schemas/qemu_inv_schema/#413-property-vm-inventory-include_stacks-include_stacks-items-qemu_ansible_user","title":"4.1.3. Property <code>VM Inventory &gt; include_stacks &gt; include_stacks items &gt; qemu_ansible_user</code>","text":"Type <code>string</code> Required No <p>Description: User ansible will use to connect, defaults to admin.</p>"},{"location":"schemas/qemu_inv_schema/#5-property-vm-inventory-static_includes","title":"5. Property <code>VM Inventory &gt; static_includes</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed"},{"location":"schemas/qemu_inv_schema/#6-property-vm-inventory-root_ssh_pub_key","title":"6. Property <code>VM Inventory &gt; root_ssh_pub_key</code>","text":"Type <code>string</code> Required Yes <p>Description: Ssh key for qemu_default_user</p>"},{"location":"schemas/qemu_inv_schema/#7-property-vm-inventory-pve_ha_group","title":"7. Property <code>VM Inventory &gt; pve_ha_group</code>","text":"Type <code>string</code> Required No <p>Description: PVE HA Group this qemu instance should be assigned to.</p>"},{"location":"schemas/qemu_inv_schema/#8-property-vm-inventory-qemu_default_user","title":"8. Property <code>VM Inventory &gt; qemu_default_user</code>","text":"Type <code>string</code> Required No <p>Description: User for cinit.</p>"},{"location":"schemas/qemu_inv_schema/#9-property-vm-inventory-qemu_hashed_pw","title":"9. Property <code>VM Inventory &gt; qemu_hashed_pw</code>","text":"Type <code>string</code> Required No <p>Description: The hashed password that will be passed to cloudinit. Use <code>mkpasswd --method=SHA-512</code> with the fitting method for your cinit image.</p>"},{"location":"schemas/qemu_inv_schema/#10-property-vm-inventory-qemu_base_parameters","title":"10. Property <code>VM Inventory &gt; qemu_base_parameters</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Parameters from qm create proxmox cli tool that will be passed to all created qemus.</p>"},{"location":"schemas/qemu_inv_schema/#11-property-vm-inventory-qemu_image_url","title":"11. Property <code>VM Inventory &gt; qemu_image_url</code>","text":"Type <code>string</code> Required No <p>Description: http(s) download link to the cinit image you want to use.</p>"},{"location":"schemas/qemu_inv_schema/#12-property-vm-inventory-qemu_keyboard_layout","title":"12. Property <code>VM Inventory &gt; qemu_keyboard_layout</code>","text":"Type <code>string</code> Required No <p>Description: The keyboard layout, can be and of de, en ....</p>"},{"location":"schemas/qemu_inv_schema/#13-property-vm-inventory-qemu_global_vars","title":"13. Property <code>VM Inventory &gt; qemu_global_vars</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Variables that will be applied to all lxc hosts</p>"},{"location":"schemas/qemu_inv_schema/#14-property-vm-inventory-pve_cloud_pytest","title":"14. Property <code>VM Inventory &gt; pve_cloud_pytest</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Variables object used only in e2e tests.</p>"},{"location":"schemas/qemu_inv_schema/#15-property-vm-inventory-plugin","title":"15. Property <code>VM Inventory &gt; plugin</code>","text":"Type <code>enum (of string)</code> Required No <p>Description: Id of ansible inventory plugin</p> <p>Must be one of: * \"pve.cloud.qemu_inv\"</p> <p>Generated using json-schema-for-humans on 2025-11-28 at 18:48:44 +0000</p>"},{"location":"schemas/setup_bind_schema_ext/","title":"LXC Inventory","text":"<p>Title: LXC Inventory</p> Type <code>object</code> Required No Additional properties Not allowed <p>Description: Base inventory for creating lxcs for a single stack on PVE.</p> Property Pattern Type Deprecated Definition Title/Description + target_pve No string No - Proxmox cluster name + cloud domain, this is where the lxcs will be created. + stack_name No string No - Your stack name, needs to be unique within the cloud. - static_includes No object No - - + lxcs No array of object No - List of lxcs that will be created for the stack. - include_stacks No array of object No - Include other cloud stacks into the ansible inventory, from any PVE cluster within the cloud you like. - lxc_global_vars No object No - Variables that will be applied to all lxc hosts and are available in playbooks. - pve_ha_group No string No - When set the stack will be added to the corresponding PVE high availability group. - lxc_base_parameters No object No - PVE pct cli parameters that will be used for all lxcs. - lxc_os_template No string No - `pveam available --section system` / run `pveam update` for newest, PVE available LXC template (will be downloaded). + root_ssh_pub_key No string No - Public key that will be installed for the root user of all lxcs in the stack. - pve_cloud_pytest No object No - Variables object used only in e2e tests. - plugin No enum (of string) No - Id of ansible inventory plugin."},{"location":"schemas/setup_bind_schema_ext/#1-property-lxc-inventory-target_pve","title":"1. Property <code>LXC Inventory &gt; target_pve</code>","text":"Type <code>string</code> Required Yes <p>Description: Proxmox cluster name + cloud domain, this is where the lxcs will be created.</p>"},{"location":"schemas/setup_bind_schema_ext/#2-property-lxc-inventory-stack_name","title":"2. Property <code>LXC Inventory &gt; stack_name</code>","text":"Type <code>string</code> Required Yes <p>Description: Your stack name, needs to be unique within the cloud.</p>"},{"location":"schemas/setup_bind_schema_ext/#3-property-lxc-inventory-static_includes","title":"3. Property <code>LXC Inventory &gt; static_includes</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed"},{"location":"schemas/setup_bind_schema_ext/#4-property-lxc-inventory-lxcs","title":"4. Property <code>LXC Inventory &gt; lxcs</code>","text":"Type <code>array of object</code> Required Yes <p>Description: List of lxcs that will be created for the stack.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description lxcs items -"},{"location":"schemas/setup_bind_schema_ext/#41-lxc-inventory-lxcs-lxcs-items","title":"4.1. LXC Inventory &gt; lxcs &gt; lxcs items","text":"Type <code>object</code> Required No Additional properties Any type allowed Property Pattern Type Deprecated Definition Title/Description - hostname No string No - Optional unique hostname for this lxc, otherwise pet name random name will be generated. - target_host No string No - Pve host to tie this vm to. This is useful to always deploy specifically on a proxmox host. + vars No object No - Custom variables for this lxc specifically. Will be usable in playbooks. + parameters No object No - Parameters that will be passed to pve pct cli tool for lxc creation."},{"location":"schemas/setup_bind_schema_ext/#411-property-lxc-inventory-lxcs-lxcs-items-hostname","title":"4.1.1. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; hostname</code>","text":"Type <code>string</code> Required No <p>Description: Optional unique hostname for this lxc, otherwise pet name random name will be generated.</p>"},{"location":"schemas/setup_bind_schema_ext/#412-property-lxc-inventory-lxcs-lxcs-items-target_host","title":"4.1.2. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; target_host</code>","text":"Type <code>string</code> Required No <p>Description: Pve host to tie this vm to. This is useful to always deploy specifically on a proxmox host.</p>"},{"location":"schemas/setup_bind_schema_ext/#413-property-lxc-inventory-lxcs-lxcs-items-vars","title":"4.1.3. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; vars</code>","text":"Type <code>object</code> Required Yes Additional properties Any type allowed <p>Description: Custom variables for this lxc specifically. Will be usable in playbooks.</p> Property Pattern Type Deprecated Definition Title/Description + bind_master No boolean No - -"},{"location":"schemas/setup_bind_schema_ext/#4131-property-lxc-inventory-lxcs-lxcs-items-vars-bind_master","title":"4.1.3.1. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; vars &gt; bind_master</code>","text":"Type <code>boolean</code> Required Yes"},{"location":"schemas/setup_bind_schema_ext/#414-property-lxc-inventory-lxcs-lxcs-items-parameters","title":"4.1.4. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; parameters</code>","text":"Type <code>object</code> Required Yes Additional properties Any type allowed <p>Description: Parameters that will be passed to pve pct cli tool for lxc creation.</p> Property Pattern Type Deprecated Definition Title/Description + rootfs No string No - PVE storage for the container disk. + cores No integer No - Number of virtual CPU cores. + memory No integer No - Memory in bytes, use POW 2. + net0 No string No - Configuration for primary network interface."},{"location":"schemas/setup_bind_schema_ext/#4141-property-lxc-inventory-lxcs-lxcs-items-parameters-rootfs","title":"4.1.4.1. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; parameters &gt; rootfs</code>","text":"Type <code>string</code> Required Yes <p>Description: PVE storage for the container disk.</p>"},{"location":"schemas/setup_bind_schema_ext/#4142-property-lxc-inventory-lxcs-lxcs-items-parameters-cores","title":"4.1.4.2. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; parameters &gt; cores</code>","text":"Type <code>integer</code> Required Yes <p>Description: Number of virtual CPU cores.</p>"},{"location":"schemas/setup_bind_schema_ext/#4143-property-lxc-inventory-lxcs-lxcs-items-parameters-memory","title":"4.1.4.3. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; parameters &gt; memory</code>","text":"Type <code>integer</code> Required Yes <p>Description: Memory in bytes, use POW 2.</p>"},{"location":"schemas/setup_bind_schema_ext/#4144-property-lxc-inventory-lxcs-lxcs-items-parameters-net0","title":"4.1.4.4. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; parameters &gt; net0</code>","text":"Type <code>string</code> Required Yes <p>Description: Configuration for primary network interface.</p> <p>Example:</p> <pre><code>\"name=eth0,bridge=vmbr0,tag=120,firewall=1,ip=dhcp\"\n</code></pre>"},{"location":"schemas/setup_bind_schema_ext/#5-property-lxc-inventory-include_stacks","title":"5. Property <code>LXC Inventory &gt; include_stacks</code>","text":"Type <code>array of object</code> Required No <p>Description: Include other cloud stacks into the ansible inventory, from any PVE cluster within the cloud you like.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description include_stacks items -"},{"location":"schemas/setup_bind_schema_ext/#51-lxc-inventory-include_stacks-include_stacks-items","title":"5.1. LXC Inventory &gt; include_stacks &gt; include_stacks items","text":"Type <code>object</code> Required No Additional properties Any type allowed Property Pattern Type Deprecated Definition Title/Description - stack_fqdn No string No - Target stack fqdn to include (stack name + pve_cloud_domain). Will automatically include it from the right pve cluster. - host_group No string No - This is the name of the hosts group of our ansible inventory the included vms will be under. - qemu_ansible_user No string No - User ansible will use to connect if its a vm, defaults to admin. LXCs are always root."},{"location":"schemas/setup_bind_schema_ext/#511-property-lxc-inventory-include_stacks-include_stacks-items-stack_fqdn","title":"5.1.1. Property <code>LXC Inventory &gt; include_stacks &gt; include_stacks items &gt; stack_fqdn</code>","text":"Type <code>string</code> Required No <p>Description: Target stack fqdn to include (stack name + pve_cloud_domain). Will automatically include it from the right pve cluster.</p>"},{"location":"schemas/setup_bind_schema_ext/#512-property-lxc-inventory-include_stacks-include_stacks-items-host_group","title":"5.1.2. Property <code>LXC Inventory &gt; include_stacks &gt; include_stacks items &gt; host_group</code>","text":"Type <code>string</code> Required No <p>Description: This is the name of the hosts group of our ansible inventory the included vms will be under.</p>"},{"location":"schemas/setup_bind_schema_ext/#513-property-lxc-inventory-include_stacks-include_stacks-items-qemu_ansible_user","title":"5.1.3. Property <code>LXC Inventory &gt; include_stacks &gt; include_stacks items &gt; qemu_ansible_user</code>","text":"Type <code>string</code> Required No <p>Description: User ansible will use to connect if its a vm, defaults to admin. LXCs are always root.</p>"},{"location":"schemas/setup_bind_schema_ext/#6-property-lxc-inventory-lxc_global_vars","title":"6. Property <code>LXC Inventory &gt; lxc_global_vars</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Variables that will be applied to all lxc hosts and are available in playbooks.</p> Property Pattern Type Deprecated Definition Title/Description - use_alternate_ssh_port No boolean No - Will use 2222 instead of 22 for ssh. - install_prom_systemd_exporter No boolean No - Will install prometheus metrics exporter for systemd. This implements with pve cloud terraform monitoring modules. -  No object No - -"},{"location":"schemas/setup_bind_schema_ext/#61-property-lxc-inventory-lxc_global_vars-use_alternate_ssh_port","title":"6.1. Property <code>LXC Inventory &gt; lxc_global_vars &gt; use_alternate_ssh_port</code>","text":"Type <code>boolean</code> Required No <p>Description: Will use 2222 instead of 22 for ssh.</p>"},{"location":"schemas/setup_bind_schema_ext/#62-property-lxc-inventory-lxc_global_vars-install_prom_systemd_exporter","title":"6.2. Property <code>LXC Inventory &gt; lxc_global_vars &gt; install_prom_systemd_exporter</code>","text":"Type <code>boolean</code> Required No <p>Description: Will install prometheus metrics exporter for systemd. This implements with pve cloud terraform monitoring modules.</p>"},{"location":"schemas/setup_bind_schema_ext/#7-property-lxc-inventory-pve_ha_group","title":"7. Property <code>LXC Inventory &gt; pve_ha_group</code>","text":"Type <code>string</code> Required No <p>Description: When set the stack will be added to the corresponding PVE high availability group.</p>"},{"location":"schemas/setup_bind_schema_ext/#8-property-lxc-inventory-lxc_base_parameters","title":"8. Property <code>LXC Inventory &gt; lxc_base_parameters</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: PVE pct cli parameters that will be used for all lxcs.</p>"},{"location":"schemas/setup_bind_schema_ext/#9-property-lxc-inventory-lxc_os_template","title":"9. Property <code>LXC Inventory &gt; lxc_os_template</code>","text":"Type <code>string</code> Required No <p>Description: <code>pveam available --section system</code> / run <code>pveam update</code> for newest, PVE available LXC template (will be downloaded).</p>"},{"location":"schemas/setup_bind_schema_ext/#10-property-lxc-inventory-root_ssh_pub_key","title":"10. Property <code>LXC Inventory &gt; root_ssh_pub_key</code>","text":"Type <code>string</code> Required Yes <p>Description: Public key that will be installed for the root user of all lxcs in the stack.</p>"},{"location":"schemas/setup_bind_schema_ext/#11-property-lxc-inventory-pve_cloud_pytest","title":"11. Property <code>LXC Inventory &gt; pve_cloud_pytest</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Variables object used only in e2e tests.</p>"},{"location":"schemas/setup_bind_schema_ext/#12-property-lxc-inventory-plugin","title":"12. Property <code>LXC Inventory &gt; plugin</code>","text":"Type <code>enum (of string)</code> Required No <p>Description: Id of ansible inventory plugin.</p> <p>Must be one of: * \"pve.cloud.lxc_inv\"</p> <p>Generated using json-schema-for-humans on 2025-11-28 at 18:48:44 +0000</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/","title":"Schema ext setup_ceph_kea playbook","text":"<p>Title: Schema ext setup_ceph_kea playbook</p> Type <code>object</code> Required No Additional properties Not allowed <p>Description: Base inventory for creating lxcs for a single stack on PVE.</p> Property Pattern Type Deprecated Definition Title/Description + target_pve No string No - Proxmox cluster name + cloud domain, this is where the lxcs will be created. + stack_name No string No - Your stack name, needs to be unique within the cloud. - static_includes No object No - - + lxcs No array of object No - List of lxcs that will be created for the stack. - include_stacks No array of object No - Include other cloud stacks into the ansible inventory, from any PVE cluster within the cloud you like. - lxc_global_vars No object No - Variables that will be applied to all lxc hosts and are available in playbooks. - pve_ha_group No string No - When set the stack will be added to the corresponding PVE high availability group. - lxc_base_parameters No object No - PVE pct cli parameters that will be used for all lxcs. - lxc_os_template No string No - `pveam available --section system` / run `pveam update` for newest, PVE available LXC template (will be downloaded). + root_ssh_pub_key No string No - Public key that will be installed for the root user of all lxcs in the stack. - pve_cloud_pytest No object No - Variables object used only in e2e tests. - plugin No enum (of string) No - Id of ansible inventory plugin."},{"location":"schemas/setup_ceph_kea_schema_ext/#1-property-schema-ext-setup_ceph_kea-playbook-target_pve","title":"1. Property <code>Schema ext setup_ceph_kea playbook &gt; target_pve</code>","text":"Type <code>string</code> Required Yes <p>Description: Proxmox cluster name + cloud domain, this is where the lxcs will be created.</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#2-property-schema-ext-setup_ceph_kea-playbook-stack_name","title":"2. Property <code>Schema ext setup_ceph_kea playbook &gt; stack_name</code>","text":"Type <code>string</code> Required Yes <p>Description: Your stack name, needs to be unique within the cloud.</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#3-property-schema-ext-setup_ceph_kea-playbook-static_includes","title":"3. Property <code>Schema ext setup_ceph_kea playbook &gt; static_includes</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed"},{"location":"schemas/setup_ceph_kea_schema_ext/#4-property-schema-ext-setup_ceph_kea-playbook-lxcs","title":"4. Property <code>Schema ext setup_ceph_kea playbook &gt; lxcs</code>","text":"Type <code>array of object</code> Required Yes <p>Description: List of lxcs that will be created for the stack.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description lxcs items -"},{"location":"schemas/setup_ceph_kea_schema_ext/#41-schema-ext-setup_ceph_kea-playbook-lxcs-lxcs-items","title":"4.1. Schema ext setup_ceph_kea playbook &gt; lxcs &gt; lxcs items","text":"Type <code>object</code> Required No Additional properties Any type allowed Property Pattern Type Deprecated Definition Title/Description - hostname No string No - Optional unique hostname for this lxc, otherwise pet name random name will be generated. - target_host No string No - Pve host to tie this vm to. This is useful to always deploy specifically on a proxmox host. + vars No object No - Custom variables for this lxc specifically. Will be usable in playbooks. + parameters No object No - Parameters that will be passed to pve pct cli tool for lxc creation."},{"location":"schemas/setup_ceph_kea_schema_ext/#411-property-schema-ext-setup_ceph_kea-playbook-lxcs-lxcs-items-hostname","title":"4.1.1. Property <code>Schema ext setup_ceph_kea playbook &gt; lxcs &gt; lxcs items &gt; hostname</code>","text":"Type <code>string</code> Required No <p>Description: Optional unique hostname for this lxc, otherwise pet name random name will be generated.</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#412-property-schema-ext-setup_ceph_kea-playbook-lxcs-lxcs-items-target_host","title":"4.1.2. Property <code>Schema ext setup_ceph_kea playbook &gt; lxcs &gt; lxcs items &gt; target_host</code>","text":"Type <code>string</code> Required No <p>Description: Pve host to tie this vm to. This is useful to always deploy specifically on a proxmox host.</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#413-property-schema-ext-setup_ceph_kea-playbook-lxcs-lxcs-items-vars","title":"4.1.3. Property <code>Schema ext setup_ceph_kea playbook &gt; lxcs &gt; lxcs items &gt; vars</code>","text":"Type <code>object</code> Required Yes Additional properties Any type allowed <p>Description: Custom variables for this lxc specifically. Will be usable in playbooks.</p> Property Pattern Type Deprecated Definition Title/Description + kea_dhcp_ceph_frontend_subnet No string No - Optional definition for a seperate dhcp if the ceph frontend resides on a different interface (map it inside the dhcp lxcs to pve0). + kea_dhcp_ceph_frontend_pool No string No - Pool for ceph frontend ip allocations, this way monitors can have their static block."},{"location":"schemas/setup_ceph_kea_schema_ext/#4131-property-schema-ext-setup_ceph_kea-playbook-lxcs-lxcs-items-vars-kea_dhcp_ceph_frontend_subnet","title":"4.1.3.1. Property <code>Schema ext setup_ceph_kea playbook &gt; lxcs &gt; lxcs items &gt; vars &gt; kea_dhcp_ceph_frontend_subnet</code>","text":"Type <code>string</code> Required Yes <p>Description: Optional definition for a seperate dhcp if the ceph frontend resides on a different interface (map it inside the dhcp lxcs to pve0).</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#4132-property-schema-ext-setup_ceph_kea-playbook-lxcs-lxcs-items-vars-kea_dhcp_ceph_frontend_pool","title":"4.1.3.2. Property <code>Schema ext setup_ceph_kea playbook &gt; lxcs &gt; lxcs items &gt; vars &gt; kea_dhcp_ceph_frontend_pool</code>","text":"Type <code>string</code> Required Yes <p>Description: Pool for ceph frontend ip allocations, this way monitors can have their static block.</p> <p>Example:</p> <pre><code>\"10.255.22.17 - 10.255.23.254\"\n</code></pre>"},{"location":"schemas/setup_ceph_kea_schema_ext/#414-property-schema-ext-setup_ceph_kea-playbook-lxcs-lxcs-items-parameters","title":"4.1.4. Property <code>Schema ext setup_ceph_kea playbook &gt; lxcs &gt; lxcs items &gt; parameters</code>","text":"Type <code>object</code> Required Yes Additional properties Any type allowed <p>Description: Parameters that will be passed to pve pct cli tool for lxc creation.</p> Property Pattern Type Deprecated Definition Title/Description + rootfs No string No - PVE storage for the container disk. + cores No integer No - Number of virtual CPU cores. + memory No integer No - Memory in bytes, use POW 2. + net0 No string No - Configuration for primary network interface. - net1 No object No - -"},{"location":"schemas/setup_ceph_kea_schema_ext/#4141-property-schema-ext-setup_ceph_kea-playbook-lxcs-lxcs-items-parameters-rootfs","title":"4.1.4.1. Property <code>Schema ext setup_ceph_kea playbook &gt; lxcs &gt; lxcs items &gt; parameters &gt; rootfs</code>","text":"Type <code>string</code> Required Yes <p>Description: PVE storage for the container disk.</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#4142-property-schema-ext-setup_ceph_kea-playbook-lxcs-lxcs-items-parameters-cores","title":"4.1.4.2. Property <code>Schema ext setup_ceph_kea playbook &gt; lxcs &gt; lxcs items &gt; parameters &gt; cores</code>","text":"Type <code>integer</code> Required Yes <p>Description: Number of virtual CPU cores.</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#4143-property-schema-ext-setup_ceph_kea-playbook-lxcs-lxcs-items-parameters-memory","title":"4.1.4.3. Property <code>Schema ext setup_ceph_kea playbook &gt; lxcs &gt; lxcs items &gt; parameters &gt; memory</code>","text":"Type <code>integer</code> Required Yes <p>Description: Memory in bytes, use POW 2.</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#4144-property-schema-ext-setup_ceph_kea-playbook-lxcs-lxcs-items-parameters-net0","title":"4.1.4.4. Property <code>Schema ext setup_ceph_kea playbook &gt; lxcs &gt; lxcs items &gt; parameters &gt; net0</code>","text":"Type <code>string</code> Required Yes <p>Description: Configuration for primary network interface.</p> <p>Example:</p> <pre><code>\"name=eth0,bridge=vmbr0,tag=120,firewall=1,ip=dhcp\"\n</code></pre> Restrictions Must match regular expression <code>\\bname=pve\\b</code> Test"},{"location":"schemas/setup_ceph_kea_schema_ext/#4145-property-schema-ext-setup_ceph_kea-playbook-lxcs-lxcs-items-parameters-net1","title":"4.1.4.5. Property <code>Schema ext setup_ceph_kea playbook &gt; lxcs &gt; lxcs items &gt; parameters &gt; net1</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed Restrictions Must match regular expression <code>\\bname=cephfe\\b</code> Test"},{"location":"schemas/setup_ceph_kea_schema_ext/#5-property-schema-ext-setup_ceph_kea-playbook-include_stacks","title":"5. Property <code>Schema ext setup_ceph_kea playbook &gt; include_stacks</code>","text":"Type <code>array of object</code> Required No <p>Description: Include other cloud stacks into the ansible inventory, from any PVE cluster within the cloud you like.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description include_stacks items -"},{"location":"schemas/setup_ceph_kea_schema_ext/#51-schema-ext-setup_ceph_kea-playbook-include_stacks-include_stacks-items","title":"5.1. Schema ext setup_ceph_kea playbook &gt; include_stacks &gt; include_stacks items","text":"Type <code>object</code> Required No Additional properties Any type allowed Property Pattern Type Deprecated Definition Title/Description - stack_fqdn No string No - Target stack fqdn to include (stack name + pve_cloud_domain). Will automatically include it from the right pve cluster. - host_group No string No - This is the name of the hosts group of our ansible inventory the included vms will be under. - qemu_ansible_user No string No - User ansible will use to connect if its a vm, defaults to admin. LXCs are always root."},{"location":"schemas/setup_ceph_kea_schema_ext/#511-property-schema-ext-setup_ceph_kea-playbook-include_stacks-include_stacks-items-stack_fqdn","title":"5.1.1. Property <code>Schema ext setup_ceph_kea playbook &gt; include_stacks &gt; include_stacks items &gt; stack_fqdn</code>","text":"Type <code>string</code> Required No <p>Description: Target stack fqdn to include (stack name + pve_cloud_domain). Will automatically include it from the right pve cluster.</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#512-property-schema-ext-setup_ceph_kea-playbook-include_stacks-include_stacks-items-host_group","title":"5.1.2. Property <code>Schema ext setup_ceph_kea playbook &gt; include_stacks &gt; include_stacks items &gt; host_group</code>","text":"Type <code>string</code> Required No <p>Description: This is the name of the hosts group of our ansible inventory the included vms will be under.</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#513-property-schema-ext-setup_ceph_kea-playbook-include_stacks-include_stacks-items-qemu_ansible_user","title":"5.1.3. Property <code>Schema ext setup_ceph_kea playbook &gt; include_stacks &gt; include_stacks items &gt; qemu_ansible_user</code>","text":"Type <code>string</code> Required No <p>Description: User ansible will use to connect if its a vm, defaults to admin. LXCs are always root.</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#6-property-schema-ext-setup_ceph_kea-playbook-lxc_global_vars","title":"6. Property <code>Schema ext setup_ceph_kea playbook &gt; lxc_global_vars</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Variables that will be applied to all lxc hosts and are available in playbooks.</p> Property Pattern Type Deprecated Definition Title/Description - use_alternate_ssh_port No boolean No - Will use 2222 instead of 22 for ssh. - install_prom_systemd_exporter No boolean No - Will install prometheus metrics exporter for systemd. This implements with pve cloud terraform monitoring modules. -  No object No - -"},{"location":"schemas/setup_ceph_kea_schema_ext/#61-property-schema-ext-setup_ceph_kea-playbook-lxc_global_vars-use_alternate_ssh_port","title":"6.1. Property <code>Schema ext setup_ceph_kea playbook &gt; lxc_global_vars &gt; use_alternate_ssh_port</code>","text":"Type <code>boolean</code> Required No <p>Description: Will use 2222 instead of 22 for ssh.</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#62-property-schema-ext-setup_ceph_kea-playbook-lxc_global_vars-install_prom_systemd_exporter","title":"6.2. Property <code>Schema ext setup_ceph_kea playbook &gt; lxc_global_vars &gt; install_prom_systemd_exporter</code>","text":"Type <code>boolean</code> Required No <p>Description: Will install prometheus metrics exporter for systemd. This implements with pve cloud terraform monitoring modules.</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#7-property-schema-ext-setup_ceph_kea-playbook-pve_ha_group","title":"7. Property <code>Schema ext setup_ceph_kea playbook &gt; pve_ha_group</code>","text":"Type <code>string</code> Required No <p>Description: When set the stack will be added to the corresponding PVE high availability group.</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#8-property-schema-ext-setup_ceph_kea-playbook-lxc_base_parameters","title":"8. Property <code>Schema ext setup_ceph_kea playbook &gt; lxc_base_parameters</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: PVE pct cli parameters that will be used for all lxcs.</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#9-property-schema-ext-setup_ceph_kea-playbook-lxc_os_template","title":"9. Property <code>Schema ext setup_ceph_kea playbook &gt; lxc_os_template</code>","text":"Type <code>string</code> Required No <p>Description: <code>pveam available --section system</code> / run <code>pveam update</code> for newest, PVE available LXC template (will be downloaded).</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#10-property-schema-ext-setup_ceph_kea-playbook-root_ssh_pub_key","title":"10. Property <code>Schema ext setup_ceph_kea playbook &gt; root_ssh_pub_key</code>","text":"Type <code>string</code> Required Yes <p>Description: Public key that will be installed for the root user of all lxcs in the stack.</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#11-property-schema-ext-setup_ceph_kea-playbook-pve_cloud_pytest","title":"11. Property <code>Schema ext setup_ceph_kea playbook &gt; pve_cloud_pytest</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Variables object used only in e2e tests.</p>"},{"location":"schemas/setup_ceph_kea_schema_ext/#12-property-schema-ext-setup_ceph_kea-playbook-plugin","title":"12. Property <code>Schema ext setup_ceph_kea playbook &gt; plugin</code>","text":"Type <code>enum (of string)</code> Required No <p>Description: Id of ansible inventory plugin.</p> <p>Must be one of: * \"pve.cloud.lxc_inv\"</p> <p>Generated using json-schema-for-humans on 2025-11-28 at 18:48:44 +0000</p>"},{"location":"schemas/setup_haproxy_schema_ext/","title":"LXC Inventory","text":"<p>Title: LXC Inventory</p> Type <code>object</code> Required No Additional properties Not allowed <p>Description: Base inventory for creating lxcs for a single stack on PVE.</p> Property Pattern Type Deprecated Definition Title/Description + target_pve No string No - Proxmox cluster name + cloud domain, this is where the lxcs will be created. + stack_name No string No - Your stack name, needs to be unique within the cloud. + static_includes No object No - - + lxcs No array of object No - List of lxcs that will be created for the stack. - include_stacks No array of object No - Include other cloud stacks into the ansible inventory, from any PVE cluster within the cloud you like. - lxc_global_vars No object No - Variables that will be applied to all lxc hosts and are available in playbooks. - pve_ha_group No string No - When set the stack will be added to the corresponding PVE high availability group. - lxc_base_parameters No object No - PVE pct cli parameters that will be used for all lxcs. - lxc_os_template No string No - `pveam available --section system` / run `pveam update` for newest, PVE available LXC template (will be downloaded). + root_ssh_pub_key No string No - Public key that will be installed for the root user of all lxcs in the stack. - pve_cloud_pytest No object No - Variables object used only in e2e tests. - plugin No enum (of string) No - Id of ansible inventory plugin."},{"location":"schemas/setup_haproxy_schema_ext/#1-property-lxc-inventory-target_pve","title":"1. Property <code>LXC Inventory &gt; target_pve</code>","text":"Type <code>string</code> Required Yes <p>Description: Proxmox cluster name + cloud domain, this is where the lxcs will be created.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#2-property-lxc-inventory-stack_name","title":"2. Property <code>LXC Inventory &gt; stack_name</code>","text":"Type <code>string</code> Required Yes <p>Description: Your stack name, needs to be unique within the cloud.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#3-property-lxc-inventory-static_includes","title":"3. Property <code>LXC Inventory &gt; static_includes</code>","text":"Type <code>object</code> Required Yes Additional properties Not allowed Property Pattern Type Deprecated Definition Title/Description + postgres_stack No string No - Stack fqdn for postgres patroni stack."},{"location":"schemas/setup_haproxy_schema_ext/#31-property-lxc-inventory-static_includes-postgres_stack","title":"3.1. Property <code>LXC Inventory &gt; static_includes &gt; postgres_stack</code>","text":"Type <code>string</code> Required Yes <p>Description: Stack fqdn for postgres patroni stack.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#4-property-lxc-inventory-lxcs","title":"4. Property <code>LXC Inventory &gt; lxcs</code>","text":"Type <code>array of object</code> Required Yes <p>Description: List of lxcs that will be created for the stack.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description lxcs items -"},{"location":"schemas/setup_haproxy_schema_ext/#41-lxc-inventory-lxcs-lxcs-items","title":"4.1. LXC Inventory &gt; lxcs &gt; lxcs items","text":"Type <code>object</code> Required No Additional properties Any type allowed Property Pattern Type Deprecated Definition Title/Description - hostname No string No - Optional unique hostname for this lxc, otherwise pet name random name will be generated. - target_host No string No - Pve host to tie this vm to. This is useful to always deploy specifically on a proxmox host. + vars No object No - Custom variables for this lxc specifically. Will be usable in playbooks. + parameters No object No - Parameters that will be passed to pve pct cli tool for lxc creation."},{"location":"schemas/setup_haproxy_schema_ext/#411-property-lxc-inventory-lxcs-lxcs-items-hostname","title":"4.1.1. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; hostname</code>","text":"Type <code>string</code> Required No <p>Description: Optional unique hostname for this lxc, otherwise pet name random name will be generated.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#412-property-lxc-inventory-lxcs-lxcs-items-target_host","title":"4.1.2. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; target_host</code>","text":"Type <code>string</code> Required No <p>Description: Pve host to tie this vm to. This is useful to always deploy specifically on a proxmox host.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#413-property-lxc-inventory-lxcs-lxcs-items-vars","title":"4.1.3. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; vars</code>","text":"Type <code>object</code> Required Yes Additional properties Any type allowed <p>Description: Custom variables for this lxc specifically. Will be usable in playbooks.</p> Property Pattern Type Deprecated Definition Title/Description + keepalived_master No boolean No - One LXC should have this set to true the other to false."},{"location":"schemas/setup_haproxy_schema_ext/#4131-property-lxc-inventory-lxcs-lxcs-items-vars-keepalived_master","title":"4.1.3.1. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; vars &gt; keepalived_master</code>","text":"Type <code>boolean</code> Required Yes <p>Description: One LXC should have this set to true the other to false.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#414-property-lxc-inventory-lxcs-lxcs-items-parameters","title":"4.1.4. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; parameters</code>","text":"Type <code>object</code> Required Yes Additional properties Any type allowed <p>Description: Parameters that will be passed to pve pct cli tool for lxc creation.</p> Property Pattern Type Deprecated Definition Title/Description + rootfs No string No - PVE storage for the container disk. + cores No integer No - Number of virtual CPU cores. + memory No integer No - Memory in bytes, use POW 2. + net0 No string No - Configuration for primary network interface."},{"location":"schemas/setup_haproxy_schema_ext/#4141-property-lxc-inventory-lxcs-lxcs-items-parameters-rootfs","title":"4.1.4.1. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; parameters &gt; rootfs</code>","text":"Type <code>string</code> Required Yes <p>Description: PVE storage for the container disk.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#4142-property-lxc-inventory-lxcs-lxcs-items-parameters-cores","title":"4.1.4.2. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; parameters &gt; cores</code>","text":"Type <code>integer</code> Required Yes <p>Description: Number of virtual CPU cores.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#4143-property-lxc-inventory-lxcs-lxcs-items-parameters-memory","title":"4.1.4.3. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; parameters &gt; memory</code>","text":"Type <code>integer</code> Required Yes <p>Description: Memory in bytes, use POW 2.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#4144-property-lxc-inventory-lxcs-lxcs-items-parameters-net0","title":"4.1.4.4. Property <code>LXC Inventory &gt; lxcs &gt; lxcs items &gt; parameters &gt; net0</code>","text":"Type <code>string</code> Required Yes <p>Description: Configuration for primary network interface.</p> <p>Example:</p> <pre><code>\"name=eth0,bridge=vmbr0,tag=120,firewall=1,ip=dhcp\"\n</code></pre>"},{"location":"schemas/setup_haproxy_schema_ext/#5-property-lxc-inventory-include_stacks","title":"5. Property <code>LXC Inventory &gt; include_stacks</code>","text":"Type <code>array of object</code> Required No <p>Description: Include other cloud stacks into the ansible inventory, from any PVE cluster within the cloud you like.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description include_stacks items -"},{"location":"schemas/setup_haproxy_schema_ext/#51-lxc-inventory-include_stacks-include_stacks-items","title":"5.1. LXC Inventory &gt; include_stacks &gt; include_stacks items","text":"Type <code>object</code> Required No Additional properties Any type allowed Property Pattern Type Deprecated Definition Title/Description - stack_fqdn No string No - Target stack fqdn to include (stack name + pve_cloud_domain). Will automatically include it from the right pve cluster. - host_group No string No - This is the name of the hosts group of our ansible inventory the included vms will be under. - qemu_ansible_user No string No - User ansible will use to connect if its a vm, defaults to admin. LXCs are always root."},{"location":"schemas/setup_haproxy_schema_ext/#511-property-lxc-inventory-include_stacks-include_stacks-items-stack_fqdn","title":"5.1.1. Property <code>LXC Inventory &gt; include_stacks &gt; include_stacks items &gt; stack_fqdn</code>","text":"Type <code>string</code> Required No <p>Description: Target stack fqdn to include (stack name + pve_cloud_domain). Will automatically include it from the right pve cluster.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#512-property-lxc-inventory-include_stacks-include_stacks-items-host_group","title":"5.1.2. Property <code>LXC Inventory &gt; include_stacks &gt; include_stacks items &gt; host_group</code>","text":"Type <code>string</code> Required No <p>Description: This is the name of the hosts group of our ansible inventory the included vms will be under.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#513-property-lxc-inventory-include_stacks-include_stacks-items-qemu_ansible_user","title":"5.1.3. Property <code>LXC Inventory &gt; include_stacks &gt; include_stacks items &gt; qemu_ansible_user</code>","text":"Type <code>string</code> Required No <p>Description: User ansible will use to connect if its a vm, defaults to admin. LXCs are always root.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#6-property-lxc-inventory-lxc_global_vars","title":"6. Property <code>LXC Inventory &gt; lxc_global_vars</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Variables that will be applied to all lxc hosts and are available in playbooks.</p> Property Pattern Type Deprecated Definition Title/Description - use_alternate_ssh_port No boolean No - Will use 2222 instead of 22 for ssh. - install_prom_systemd_exporter No boolean No - Will install prometheus metrics exporter for systemd. This implements with pve cloud terraform monitoring modules. -  No object No - -"},{"location":"schemas/setup_haproxy_schema_ext/#61-property-lxc-inventory-lxc_global_vars-use_alternate_ssh_port","title":"6.1. Property <code>LXC Inventory &gt; lxc_global_vars &gt; use_alternate_ssh_port</code>","text":"Type <code>boolean</code> Required No <p>Description: Will use 2222 instead of 22 for ssh.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#62-property-lxc-inventory-lxc_global_vars-install_prom_systemd_exporter","title":"6.2. Property <code>LXC Inventory &gt; lxc_global_vars &gt; install_prom_systemd_exporter</code>","text":"Type <code>boolean</code> Required No <p>Description: Will install prometheus metrics exporter for systemd. This implements with pve cloud terraform monitoring modules.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#7-property-lxc-inventory-pve_ha_group","title":"7. Property <code>LXC Inventory &gt; pve_ha_group</code>","text":"Type <code>string</code> Required No <p>Description: When set the stack will be added to the corresponding PVE high availability group.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#8-property-lxc-inventory-lxc_base_parameters","title":"8. Property <code>LXC Inventory &gt; lxc_base_parameters</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: PVE pct cli parameters that will be used for all lxcs.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#9-property-lxc-inventory-lxc_os_template","title":"9. Property <code>LXC Inventory &gt; lxc_os_template</code>","text":"Type <code>string</code> Required No <p>Description: <code>pveam available --section system</code> / run <code>pveam update</code> for newest, PVE available LXC template (will be downloaded).</p>"},{"location":"schemas/setup_haproxy_schema_ext/#10-property-lxc-inventory-root_ssh_pub_key","title":"10. Property <code>LXC Inventory &gt; root_ssh_pub_key</code>","text":"Type <code>string</code> Required Yes <p>Description: Public key that will be installed for the root user of all lxcs in the stack.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#11-property-lxc-inventory-pve_cloud_pytest","title":"11. Property <code>LXC Inventory &gt; pve_cloud_pytest</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Variables object used only in e2e tests.</p>"},{"location":"schemas/setup_haproxy_schema_ext/#12-property-lxc-inventory-plugin","title":"12. Property <code>LXC Inventory &gt; plugin</code>","text":"Type <code>enum (of string)</code> Required No <p>Description: Id of ansible inventory plugin.</p> <p>Must be one of: * \"pve.cloud.lxc_inv\"</p> <p>Generated using json-schema-for-humans on 2025-11-28 at 18:48:44 +0000</p>"},{"location":"schemas/setup_kea_schema_ext/","title":"Schema ext setup_kea playbook","text":"<p>Title: Schema ext setup_kea playbook</p> Type <code>object</code> Required No Additional properties Not allowed <p>Description: Base inventory for creating lxcs for a single stack on PVE.</p> Property Pattern Type Deprecated Definition Title/Description + target_pve No string No - Proxmox cluster name + cloud domain, this is where the lxcs will be created. + stack_name No string No - Your stack name, needs to be unique within the cloud. - static_includes No object No - - + lxcs No array of object No - List of lxcs that will be created for the stack. - include_stacks No array of object No - Include other cloud stacks into the ansible inventory, from any PVE cluster within the cloud you like. - lxc_global_vars No object No - Variables that will be applied to all lxc hosts and are available in playbooks. - pve_ha_group No string No - When set the stack will be added to the corresponding PVE high availability group. - lxc_base_parameters No object No - PVE pct cli parameters that will be used for all lxcs. - lxc_os_template No string No - `pveam available --section system` / run `pveam update` for newest, PVE available LXC template (will be downloaded). + root_ssh_pub_key No string No - Public key that will be installed for the root user of all lxcs in the stack. - pve_cloud_pytest No object No - Variables object used only in e2e tests. - plugin No enum (of string) No - Id of ansible inventory plugin."},{"location":"schemas/setup_kea_schema_ext/#1-property-schema-ext-setup_kea-playbook-target_pve","title":"1. Property <code>Schema ext setup_kea playbook &gt; target_pve</code>","text":"Type <code>string</code> Required Yes <p>Description: Proxmox cluster name + cloud domain, this is where the lxcs will be created.</p>"},{"location":"schemas/setup_kea_schema_ext/#2-property-schema-ext-setup_kea-playbook-stack_name","title":"2. Property <code>Schema ext setup_kea playbook &gt; stack_name</code>","text":"Type <code>string</code> Required Yes <p>Description: Your stack name, needs to be unique within the cloud.</p>"},{"location":"schemas/setup_kea_schema_ext/#3-property-schema-ext-setup_kea-playbook-static_includes","title":"3. Property <code>Schema ext setup_kea playbook &gt; static_includes</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed"},{"location":"schemas/setup_kea_schema_ext/#4-property-schema-ext-setup_kea-playbook-lxcs","title":"4. Property <code>Schema ext setup_kea playbook &gt; lxcs</code>","text":"Type <code>array of object</code> Required Yes <p>Description: List of lxcs that will be created for the stack.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description lxcs items -"},{"location":"schemas/setup_kea_schema_ext/#41-schema-ext-setup_kea-playbook-lxcs-lxcs-items","title":"4.1. Schema ext setup_kea playbook &gt; lxcs &gt; lxcs items","text":"Type <code>object</code> Required No Additional properties Any type allowed Property Pattern Type Deprecated Definition Title/Description - hostname No string No - Optional unique hostname for this lxc, otherwise pet name random name will be generated. - target_host No string No - Pve host to tie this vm to. This is useful to always deploy specifically on a proxmox host. + vars No object No - Custom variables for this lxc specifically. Will be usable in playbooks. + parameters No object No - Parameters that will be passed to pve pct cli tool for lxc creation."},{"location":"schemas/setup_kea_schema_ext/#411-property-schema-ext-setup_kea-playbook-lxcs-lxcs-items-hostname","title":"4.1.1. Property <code>Schema ext setup_kea playbook &gt; lxcs &gt; lxcs items &gt; hostname</code>","text":"Type <code>string</code> Required No <p>Description: Optional unique hostname for this lxc, otherwise pet name random name will be generated.</p>"},{"location":"schemas/setup_kea_schema_ext/#412-property-schema-ext-setup_kea-playbook-lxcs-lxcs-items-target_host","title":"4.1.2. Property <code>Schema ext setup_kea playbook &gt; lxcs &gt; lxcs items &gt; target_host</code>","text":"Type <code>string</code> Required No <p>Description: Pve host to tie this vm to. This is useful to always deploy specifically on a proxmox host.</p>"},{"location":"schemas/setup_kea_schema_ext/#413-property-schema-ext-setup_kea-playbook-lxcs-lxcs-items-vars","title":"4.1.3. Property <code>Schema ext setup_kea playbook &gt; lxcs &gt; lxcs items &gt; vars</code>","text":"Type <code>object</code> Required Yes Additional properties Any type allowed <p>Description: Custom variables for this lxc specifically. Will be usable in playbooks.</p> Property Pattern Type Deprecated Definition Title/Description + kea_dhcp_main No boolean No - Determines the lxc that will be the dhcp master instance. One lxc should be set to true, the other to false."},{"location":"schemas/setup_kea_schema_ext/#4131-property-schema-ext-setup_kea-playbook-lxcs-lxcs-items-vars-kea_dhcp_main","title":"4.1.3.1. Property <code>Schema ext setup_kea playbook &gt; lxcs &gt; lxcs items &gt; vars &gt; kea_dhcp_main</code>","text":"Type <code>boolean</code> Required Yes <p>Description: Determines the lxc that will be the dhcp master instance. One lxc should be set to true, the other to false.</p>"},{"location":"schemas/setup_kea_schema_ext/#414-property-schema-ext-setup_kea-playbook-lxcs-lxcs-items-parameters","title":"4.1.4. Property <code>Schema ext setup_kea playbook &gt; lxcs &gt; lxcs items &gt; parameters</code>","text":"Type <code>object</code> Required Yes Additional properties Any type allowed <p>Description: Parameters that will be passed to pve pct cli tool for lxc creation.</p> Property Pattern Type Deprecated Definition Title/Description + rootfs No string No - PVE storage for the container disk. + cores No integer No - Number of virtual CPU cores. + memory No integer No - Memory in bytes, use POW 2. + net0 No string No - Configuration for primary network interface."},{"location":"schemas/setup_kea_schema_ext/#4141-property-schema-ext-setup_kea-playbook-lxcs-lxcs-items-parameters-rootfs","title":"4.1.4.1. Property <code>Schema ext setup_kea playbook &gt; lxcs &gt; lxcs items &gt; parameters &gt; rootfs</code>","text":"Type <code>string</code> Required Yes <p>Description: PVE storage for the container disk.</p>"},{"location":"schemas/setup_kea_schema_ext/#4142-property-schema-ext-setup_kea-playbook-lxcs-lxcs-items-parameters-cores","title":"4.1.4.2. Property <code>Schema ext setup_kea playbook &gt; lxcs &gt; lxcs items &gt; parameters &gt; cores</code>","text":"Type <code>integer</code> Required Yes <p>Description: Number of virtual CPU cores.</p>"},{"location":"schemas/setup_kea_schema_ext/#4143-property-schema-ext-setup_kea-playbook-lxcs-lxcs-items-parameters-memory","title":"4.1.4.3. Property <code>Schema ext setup_kea playbook &gt; lxcs &gt; lxcs items &gt; parameters &gt; memory</code>","text":"Type <code>integer</code> Required Yes <p>Description: Memory in bytes, use POW 2.</p>"},{"location":"schemas/setup_kea_schema_ext/#4144-property-schema-ext-setup_kea-playbook-lxcs-lxcs-items-parameters-net0","title":"4.1.4.4. Property <code>Schema ext setup_kea playbook &gt; lxcs &gt; lxcs items &gt; parameters &gt; net0</code>","text":"Type <code>string</code> Required Yes <p>Description: Configuration for primary network interface.</p> <p>Example:</p> <pre><code>\"name=eth0,bridge=vmbr0,tag=120,firewall=1,ip=dhcp\"\n</code></pre> Restrictions Must match regular expression <code>\\bname=pve\\b</code> Test"},{"location":"schemas/setup_kea_schema_ext/#5-property-schema-ext-setup_kea-playbook-include_stacks","title":"5. Property <code>Schema ext setup_kea playbook &gt; include_stacks</code>","text":"Type <code>array of object</code> Required No <p>Description: Include other cloud stacks into the ansible inventory, from any PVE cluster within the cloud you like.</p> Array restrictions Min items N/A Max items N/A Items unicity False Additional items False Tuple validation See below Each item of this array must be Description include_stacks items -"},{"location":"schemas/setup_kea_schema_ext/#51-schema-ext-setup_kea-playbook-include_stacks-include_stacks-items","title":"5.1. Schema ext setup_kea playbook &gt; include_stacks &gt; include_stacks items","text":"Type <code>object</code> Required No Additional properties Any type allowed Property Pattern Type Deprecated Definition Title/Description - stack_fqdn No string No - Target stack fqdn to include (stack name + pve_cloud_domain). Will automatically include it from the right pve cluster. - host_group No string No - This is the name of the hosts group of our ansible inventory the included vms will be under. - qemu_ansible_user No string No - User ansible will use to connect if its a vm, defaults to admin. LXCs are always root."},{"location":"schemas/setup_kea_schema_ext/#511-property-schema-ext-setup_kea-playbook-include_stacks-include_stacks-items-stack_fqdn","title":"5.1.1. Property <code>Schema ext setup_kea playbook &gt; include_stacks &gt; include_stacks items &gt; stack_fqdn</code>","text":"Type <code>string</code> Required No <p>Description: Target stack fqdn to include (stack name + pve_cloud_domain). Will automatically include it from the right pve cluster.</p>"},{"location":"schemas/setup_kea_schema_ext/#512-property-schema-ext-setup_kea-playbook-include_stacks-include_stacks-items-host_group","title":"5.1.2. Property <code>Schema ext setup_kea playbook &gt; include_stacks &gt; include_stacks items &gt; host_group</code>","text":"Type <code>string</code> Required No <p>Description: This is the name of the hosts group of our ansible inventory the included vms will be under.</p>"},{"location":"schemas/setup_kea_schema_ext/#513-property-schema-ext-setup_kea-playbook-include_stacks-include_stacks-items-qemu_ansible_user","title":"5.1.3. Property <code>Schema ext setup_kea playbook &gt; include_stacks &gt; include_stacks items &gt; qemu_ansible_user</code>","text":"Type <code>string</code> Required No <p>Description: User ansible will use to connect if its a vm, defaults to admin. LXCs are always root.</p>"},{"location":"schemas/setup_kea_schema_ext/#6-property-schema-ext-setup_kea-playbook-lxc_global_vars","title":"6. Property <code>Schema ext setup_kea playbook &gt; lxc_global_vars</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Variables that will be applied to all lxc hosts and are available in playbooks.</p> Property Pattern Type Deprecated Definition Title/Description - use_alternate_ssh_port No boolean No - Will use 2222 instead of 22 for ssh. - install_prom_systemd_exporter No boolean No - Will install prometheus metrics exporter for systemd. This implements with pve cloud terraform monitoring modules. -  No object No - -"},{"location":"schemas/setup_kea_schema_ext/#61-property-schema-ext-setup_kea-playbook-lxc_global_vars-use_alternate_ssh_port","title":"6.1. Property <code>Schema ext setup_kea playbook &gt; lxc_global_vars &gt; use_alternate_ssh_port</code>","text":"Type <code>boolean</code> Required No <p>Description: Will use 2222 instead of 22 for ssh.</p>"},{"location":"schemas/setup_kea_schema_ext/#62-property-schema-ext-setup_kea-playbook-lxc_global_vars-install_prom_systemd_exporter","title":"6.2. Property <code>Schema ext setup_kea playbook &gt; lxc_global_vars &gt; install_prom_systemd_exporter</code>","text":"Type <code>boolean</code> Required No <p>Description: Will install prometheus metrics exporter for systemd. This implements with pve cloud terraform monitoring modules.</p>"},{"location":"schemas/setup_kea_schema_ext/#7-property-schema-ext-setup_kea-playbook-pve_ha_group","title":"7. Property <code>Schema ext setup_kea playbook &gt; pve_ha_group</code>","text":"Type <code>string</code> Required No <p>Description: When set the stack will be added to the corresponding PVE high availability group.</p>"},{"location":"schemas/setup_kea_schema_ext/#8-property-schema-ext-setup_kea-playbook-lxc_base_parameters","title":"8. Property <code>Schema ext setup_kea playbook &gt; lxc_base_parameters</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: PVE pct cli parameters that will be used for all lxcs.</p>"},{"location":"schemas/setup_kea_schema_ext/#9-property-schema-ext-setup_kea-playbook-lxc_os_template","title":"9. Property <code>Schema ext setup_kea playbook &gt; lxc_os_template</code>","text":"Type <code>string</code> Required No <p>Description: <code>pveam available --section system</code> / run <code>pveam update</code> for newest, PVE available LXC template (will be downloaded).</p>"},{"location":"schemas/setup_kea_schema_ext/#10-property-schema-ext-setup_kea-playbook-root_ssh_pub_key","title":"10. Property <code>Schema ext setup_kea playbook &gt; root_ssh_pub_key</code>","text":"Type <code>string</code> Required Yes <p>Description: Public key that will be installed for the root user of all lxcs in the stack.</p>"},{"location":"schemas/setup_kea_schema_ext/#11-property-schema-ext-setup_kea-playbook-pve_cloud_pytest","title":"11. Property <code>Schema ext setup_kea playbook &gt; pve_cloud_pytest</code>","text":"Type <code>object</code> Required No Additional properties Any type allowed <p>Description: Variables object used only in e2e tests.</p>"},{"location":"schemas/setup_kea_schema_ext/#12-property-schema-ext-setup_kea-playbook-plugin","title":"12. Property <code>Schema ext setup_kea playbook &gt; plugin</code>","text":"Type <code>enum (of string)</code> Required No <p>Description: Id of ansible inventory plugin.</p> <p>Must be one of: * \"pve.cloud.lxc_inv\"</p> <p>Generated using json-schema-for-humans on 2025-11-28 at 18:48:44 +0000</p>"}]}