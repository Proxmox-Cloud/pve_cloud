# read bind-inv.yaml for docs, or the schemas in the main documentation
target_pve: pve-cluster-name.pve-cloud-domain.example
stack_name: haproxy

# the postgres_stack key is statically defined in pve-cloud-schemas
# the playbooks need the postgres stack present to apply
static_includes:
  postgres_stack: patroni.pve-cloud-domain.example 

lxcs:
- hostname: main
  parameters:
    rootfs: "volume=ssd:15,mountoptions=discard"
    cores: 2
    memory: 1024
    net0: "name=pve,bridge=vmbr0,tag=100,firewall=1,ip=dhcp"
  vars:
    keepalived_master: true

- hostname: failover
  parameters:
    rootfs: "volume=ssd:15,mountoptions=discard"
    cores: 1
    memory: 1024
    net0: "name=pve,bridge=vmbr0,tag=100,firewall=1,ip=dhcp"
  vars:
    keepalived_master: false

lxc_base_parameters:
  onboot: 1

root_ssh_pub_key: 'ssh-ed25519 AAAeAC3NzaC1tlZDI1NdasdAAIGreJ6EeeGddasB30hv1h5+erHhreUHzvmYE' # your public ssh key

plugin: pve.cloud.lxc_inv # use the pve_cloud custom inventory for lxcs
